/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Si=Object.create;var st=Object.defineProperty;var Di=Object.getOwnPropertyDescriptor;var Bi=Object.getOwnPropertyNames;var Ti=Object.getPrototypeOf,Ii=Object.prototype.hasOwnProperty;var Pt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),In=(e,n)=>{for(var t in n)st(e,t,{get:n[t],enumerable:!0})},Ln=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Bi(n))!Ii.call(e,i)&&i!==t&&st(e,i,{get:()=>n[i],enumerable:!(r=Di(n,i))||r.enumerable});return e};var lt=(e,n,t)=>(t=e!=null?Si(Ti(e)):{},Ln(n||!e||!e.__esModule?st(t,"default",{value:e,enumerable:!0}):t,e)),Li=e=>Ln(st({},"__esModule",{value:!0}),e);var zn=Pt((Yo,zt)=>{(function(){var e;typeof zt!="undefined"?e=zt.exports=r:e=function(){return this||(0,eval)("this")}(),e.format=r,e.vsprintf=t,typeof console!="undefined"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(r.apply(null,arguments))}function t(i,u){return r.apply(null,[i].concat(u))}function r(i){for(var u=1,o=[].slice.call(arguments),a=0,f=i.length,h="",c,s=!1,p,l,y=!1,A,k=function(){return o[u++]},x=function(){for(var b="";/\d/.test(i[a]);)b+=i[a++],c=i[a];return b.length>0?parseInt(b):null};a<f;++a)if(c=i[a],s)switch(s=!1,c=="."?(y=!1,c=i[++a]):c=="0"&&i[a+1]=="."?(y=!0,a+=2,c=i[a]):y=!0,A=x(),c){case"b":h+=parseInt(k(),10).toString(2);break;case"c":p=k(),typeof p=="string"||p instanceof String?h+=p:h+=String.fromCharCode(parseInt(p,10));break;case"d":h+=parseInt(k(),10);break;case"f":l=String(parseFloat(k()).toFixed(A||6)),h+=y?l:l.replace(/^0/,"");break;case"j":h+=JSON.stringify(k());break;case"o":h+="0"+parseInt(k(),10).toString(8);break;case"s":h+=k();break;case"x":h+="0x"+parseInt(k(),10).toString(16);break;case"X":h+="0x"+parseInt(k(),10).toString(16).toUpperCase();break;default:h+=c;break}else c==="%"?s=!0:h+=c;return h}})()});var sn=Pt((Wp,Ir)=>{Ir.exports=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}});var Ur=Pt((Qp,Vr)=>{"use strict";var Ct=Object.prototype.hasOwnProperty,_r=Object.prototype.toString,Lr=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,zr=function(n){return typeof Array.isArray=="function"?Array.isArray(n):_r.call(n)==="[object Array]"},Or=function(n){if(!n||_r.call(n)!=="[object Object]")return!1;var t=Ct.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&Ct.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var i;for(i in n);return typeof i=="undefined"||Ct.call(n,i)},Rr=function(n,t){Lr&&t.name==="__proto__"?Lr(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},Mr=function(n,t){if(t==="__proto__")if(Ct.call(n,t)){if(Pr)return Pr(n,t).value}else return;return n[t]};Vr.exports=function e(){var n,t,r,i,u,o,a=arguments[0],f=1,h=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});f<h;++f)if(n=arguments[f],n!=null)for(t in n)r=Mr(a,t),i=Mr(n,t),a!==i&&(c&&i&&(Or(i)||(u=zr(i)))?(u?(u=!1,o=r&&zr(r)?r:[]):o=r&&Or(r)?r:{},Rr(a,{name:t,newValue:e(c,o,i)})):typeof i!="undefined"&&Rr(a,{name:t,newValue:i}));return a}});var Vo={};In(Vo,{default:()=>Bt});module.exports=Li(Vo);var ne=require("obsidian");var We=class extends Map{constructor(n={}){if(super(),!(n.maxSize&&n.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof n.maxAge=="number"&&n.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=n.maxSize,this.maxAge=n.maxAge||Number.POSITIVE_INFINITY,this.onEviction=n.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(n){if(typeof this.onEviction=="function")for(let[t,r]of n)this.onEviction(t,r.value)}_deleteIfExpired(n,t){return typeof t.expiry=="number"&&t.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(n,t.value),this.delete(n)):!1}_getOrDeleteIfExpired(n,t){if(this._deleteIfExpired(n,t)===!1)return t.value}_getItemValue(n,t){return t.expiry?this._getOrDeleteIfExpired(n,t):t.value}_peek(n,t){let r=t.get(n);return this._getItemValue(n,r)}_set(n,t){this.cache.set(n,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(n,t){this.oldCache.delete(n),this._set(n,t)}*_entriesAscending(){for(let n of this.oldCache){let[t,r]=n;this.cache.has(t)||this._deleteIfExpired(t,r)===!1&&(yield n)}for(let n of this.cache){let[t,r]=n;this._deleteIfExpired(t,r)===!1&&(yield n)}}get(n){if(this.cache.has(n)){let t=this.cache.get(n);return this._getItemValue(n,t)}if(this.oldCache.has(n)){let t=this.oldCache.get(n);if(this._deleteIfExpired(n,t)===!1)return this._moveToRecent(n,t),t.value}}set(n,t,{maxAge:r=this.maxAge}={}){let i=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(n)?this.cache.set(n,{value:t,expiry:i}):this._set(n,{value:t,expiry:i}),this}has(n){return this.cache.has(n)?!this._deleteIfExpired(n,this.cache.get(n)):this.oldCache.has(n)?!this._deleteIfExpired(n,this.oldCache.get(n)):!1}peek(n){if(this.cache.has(n))return this._peek(n,this.cache);if(this.oldCache.has(n))return this._peek(n,this.oldCache)}delete(n){let t=this.cache.delete(n);return t&&this._size--,this.oldCache.delete(n)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(n){if(!(n&&n>0))throw new TypeError("`maxSize` must be a number greater than 0");let t=[...this._entriesAscending()],r=t.length-n;r<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(r>0&&this._emitEvictions(t.slice(0,r)),this.oldCache=new Map(t.slice(r)),this.cache=new Map,this._size=0),this.maxSize=n}*keys(){for(let[n]of this)yield n}*values(){for(let[,n]of this)yield n}*[Symbol.iterator](){for(let n of this.cache){let[t,r]=n;this._deleteIfExpired(t,r)===!1&&(yield[t,r.value])}for(let n of this.oldCache){let[t,r]=n;this.cache.has(t)||this._deleteIfExpired(t,r)===!1&&(yield[t,r.value])}}*entriesDescending(){let n=[...this.cache];for(let t=n.length-1;t>=0;--t){let r=n[t],[i,u]=r;this._deleteIfExpired(i,u)===!1&&(yield[i,u.value])}n=[...this.oldCache];for(let t=n.length-1;t>=0;--t){let r=n[t],[i,u]=r;this.cache.has(i)||this._deleteIfExpired(i,u)===!1&&(yield[i,u.value])}}*entriesAscending(){for(let[n,t]of this._entriesAscending())yield[n,t.value]}get size(){if(!this._size)return this.oldCache.size;let n=0;for(let t of this.oldCache.keys())this.cache.has(t)||n++;return Math.min(this._size+n,this.maxSize)}entries(){return this.entriesAscending()}forEach(n,t=this){for(let[r,i]of this.entriesAscending())n.call(t,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};var N=require("obsidian");var Oe={children(e){return e.children},annotatetextnode(e,n){return e.type==="text"?{offset:{end:e.position.end.offset,start:e.position.start.offset},text:n.substring(e.position.start.offset,e.position.end.offset)}:null},interpretmarkup(e=""){return e}};function Pi(e,n,t=Oe){let r=[];function i(u){let o=t.annotatetextnode(u,n);o!==null&&r.push(o);let a=t.children(u);a!==null&&Array.isArray(a)&&a.forEach(i)}return i(e),r}function zi(e,n,t=Oe){let r=[],i={offset:{end:0,start:0}};for(let o of n){let a=e.substring(i.offset.end,o.offset.start);r.push({interpretAs:t.interpretmarkup(a),markup:a,offset:{end:o.offset.start,start:i.offset.end}}),r.push(o),i=o}let u=e.substring(i.offset.end,e.length);return r.push({interpretAs:t.interpretmarkup(u),markup:u,offset:{end:e.length,start:i.offset.end}}),{annotation:r}}function Pn(e,n,t=Oe){let r=Pi(n,e,t);return zi(e,r,t)}var jo=he(/[A-Za-z]/),qo=he(/[\dA-Za-z]/),Ho=he(/[#-'*+\--9=?A-Z^-~]/);var vo=he(/\d/),$o=he(/[\dA-Fa-f]/),Zo=he(/[!-/:-@[-`{-~]/);function Qe(e){return e!==null&&e<-2}function Ge(e){return e===-2||e===-1||e===32}var Wo=he(/\p{P}|\p{S}/u),Qo=he(/\s/);function he(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}var On=lt(zn(),1),Ye=Object.assign(Be(Error),{eval:Be(EvalError),range:Be(RangeError),reference:Be(ReferenceError),syntax:Be(SyntaxError),type:Be(TypeError),uri:Be(URIError)});function Be(e){return n.displayName=e.displayName||e.name,n;function n(t,...r){let i=t&&(0,On.default)(t,...r);return new e(i)}}var ct={}.hasOwnProperty,Rn={yaml:"-",toml:"+"};function Re(e){let n=[],t=-1,r=Array.isArray(e)?e:e?[e]:["yaml"];for(;++t<r.length;)n[t]=Ri(r[t]);return n}function Ri(e){let n=e;if(typeof n=="string"){if(!ct.call(Rn,n))throw Ye("Missing matter definition for `%s`",n);n={type:n,marker:Rn[n]}}else if(typeof n!="object")throw Ye("Expected matter to be an object, not `%j`",n);if(!ct.call(n,"type"))throw Ye("Missing `type` in matter `%j`",n);if(!ct.call(n,"fence")&&!ct.call(n,"marker"))throw Ye("Missing `marker` or `fence` in matter `%j`",n);return n}function Rt(e){let n=Re(e),t={},r=-1;for(;++r<n.length;){let i=n[r],u=Ot(i,"open").charCodeAt(0),o=Mi(i),a=t[u];Array.isArray(a)?a.push(o):t[u]=[o]}return{flow:t}}function Mi(e){let n=e.anywhere,t=e.type,r=t+"Fence",i=r+"Sequence",u=t+"Value",o={tokenize:c,partial:!0},a,f=0;return{tokenize:h,concrete:!0};function h(s,p,l){let y=this;return A;function A(C){let L=y.now();return L.column===1&&(L.line===1||n)&&(a=Ot(e,"open"),f=0,C===a.charCodeAt(f))?(s.enter(t),s.enter(r),s.enter(i),k(C)):l(C)}function k(C){return f===a.length?(s.exit(i),Ge(C)?(s.enter("whitespace"),x(C)):b(C)):C===a.charCodeAt(f++)?(s.consume(C),k):l(C)}function x(C){return Ge(C)?(s.consume(C),x):(s.exit("whitespace"),b(C))}function b(C){return Qe(C)?(s.exit(r),s.enter("lineEnding"),s.consume(C),s.exit("lineEnding"),a=Ot(e,"close"),f=0,s.attempt(o,d,E)):l(C)}function E(C){return C===null||Qe(C)?O(C):(s.enter(u),I(C))}function I(C){return C===null||Qe(C)?(s.exit(u),O(C)):(s.consume(C),I)}function O(C){return C===null?l(C):(s.enter("lineEnding"),s.consume(C),s.exit("lineEnding"),s.attempt(o,d,E))}function d(C){return s.exit(t),p(C)}}function c(s,p,l){let y=0;return A;function A(E){return E===a.charCodeAt(y)?(s.enter(r),s.enter(i),k(E)):l(E)}function k(E){return y===a.length?(s.exit(i),Ge(E)?(s.enter("whitespace"),x(E)):b(E)):E===a.charCodeAt(y++)?(s.consume(E),k):l(E)}function x(E){return Ge(E)?(s.consume(E),x):(s.exit("whitespace"),b(E))}function b(E){return E===null||Qe(E)?(s.exit(r),p(E)):l(E)}}}function Ot(e,n){return e.marker?Mn(e.marker,n).repeat(3):Mn(e.fence,n)}function Mn(e,n){return typeof e=="string"?e:e[n]}function Mt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Vt(e){let n=Re(e),t={},r={},i=-1;for(;++i<n.length;){let u=n[i];t[u.type]=_i(u),r[u.type]=Vi,r[u.type+"Value"]=Ui}return{enter:t,exit:r}}function _i(e){return n;function n(t){this.enter({type:e.type,value:""},t),this.buffer()}}function Vi(e){let n=this.resume(),t=this.stack[this.stack.length-1];"value"in t,this.exit(e),t.value=n.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function Ui(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function Ut(e){let n=[],t={},r=Re(e),i=-1;for(;++i<r.length;){let u=r[i];t[u.type]=Ni(u);let o=_t(u,"open");n.push({atBreak:!0,character:o.charAt(0),after:Mt(o.charAt(1))})}return{unsafe:n,handlers:t}}function Ni(e){let n=_t(e,"open"),t=_t(e,"close");return r;function r(i){return n+(i.value?`
`+i.value:"")+`
`+t}}function _t(e,n){return e.marker?_n(e.marker,n).repeat(3):_n(e.fence,n)}function _n(e,n){return typeof e=="string"?e:e[n]}var ji="yaml";function pt(e){let n=this,t=e||ji,r=n.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),u=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Rt(t)),u.push(Vt(t)),o.push(Ut(t))}var qi={};function Nt(e,n){let t=n||qi,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Un(e,r,i)}function Un(e,n,t){if(Hi(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vn(e.children,n,t)}return Array.isArray(e)?Vn(e,n,t):""}function Vn(e,n,t){let r=[],i=-1;for(;++i<e.length;)r[i]=Un(e[i],n,t);return r.join("")}function Hi(e){return!!(e&&typeof e=="object")}function W(e,n,t,r){let i=e.length,u=0,o;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(n,t),e.splice(...o);else for(t&&e.splice(n,t);u<r.length;)o=r.slice(u,u+1e4),o.unshift(n,0),e.splice(...o),u+=1e4,n+=1e4}function J(e,n){return e.length>0?(W(e,e.length,0,n),e):n}var Nn={}.hasOwnProperty;function jn(e){let n={},t=-1;for(;++t<e.length;)vi(n,e[t]);return n}function vi(e,n){let t;for(t in n){let i=(Nn.call(e,t)?e[t]:void 0)||(e[t]={}),u=n[t],o;if(u)for(o in u){Nn.call(i,o)||(i[o]=[]);let a=u[o];$i(i[o],Array.isArray(a)?a:a?[a]:[])}}}function $i(e,n){let t=-1,r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);W(e,0,0,r)}var qn=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var ba=me(/[A-Za-z]/),Sa=me(/[\dA-Za-z]/),Da=me(/[#-'*+\--9=?A-Z^-~]/);var Ba=me(/\d/),Ta=me(/[\dA-Fa-f]/),Ia=me(/[!-/:-@[-`{-~]/);function jt(e){return e===-2||e===-1||e===32}var La=me(qn),Pa=me(/\s/);function me(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function T(e,n,t,r){let i=r?r-1:Number.POSITIVE_INFINITY,u=0;return o;function o(f){return jt(f)?(e.enter(t),a(f)):n(f)}function a(f){return jt(f)&&u++<i?(e.consume(f),a):(e.exit(t),n(f))}}var Hn=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Va=ge(/[A-Za-z]/),Ua=ge(/[\dA-Za-z]/),Na=ge(/[#-'*+\--9=?A-Z^-~]/);var ja=ge(/\d/),qa=ge(/[\dA-Fa-f]/),Ha=ge(/[!-/:-@[-`{-~]/);function Me(e){return e!==null&&e<-2}var va=ge(Hn),$a=ge(/\s/);function ge(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}var vn={tokenize:Zi};function Zi(e){let n=e.attempt(this.parser.constructs.contentInitial,r,i),t;return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),T(e,n,"linePrefix")}function i(a){return e.enter("paragraph"),u(a)}function u(a){let f=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Me(a)?(e.consume(a),e.exit("chunkText"),u):(e.consume(a),o)}}var Zn={tokenize:Wi},$n={tokenize:Qi};function Wi(e){let n=this,t=[],r=0,i,u,o;return a;function a(E){if(r<t.length){let I=t[r];return n.containerState=I[1],e.attempt(I[0].continuation,f,h)(E)}return h(E)}function f(E){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&b();let I=n.events.length,O=I,d;for(;O--;)if(n.events[O][0]==="exit"&&n.events[O][1].type==="chunkFlow"){d=n.events[O][1].end;break}x(r);let C=I;for(;C<n.events.length;)n.events[C][1].end=Object.assign({},d),C++;return W(n.events,O+1,0,n.events.slice(I)),n.events.length=C,h(E)}return a(E)}function h(E){if(r===t.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return y(E);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check($n,c,s)(E)}function c(E){return i&&b(),x(r),p(E)}function s(E){return n.parser.lazy[n.now().line]=r!==t.length,o=n.now().offset,y(E)}function p(E){return n.containerState={},e.attempt($n,l,y)(E)}function l(E){return r++,t.push([n.currentConstruct,n.containerState]),p(E)}function y(E){if(E===null){i&&b(),x(0),e.consume(E);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:i}),A(E)}function A(E){if(E===null){k(e.exit("chunkFlow"),!0),x(0),e.consume(E);return}return Me(E)?(e.consume(E),k(e.exit("chunkFlow")),r=0,n.interrupt=void 0,a):(e.consume(E),A)}function k(E,I){let O=n.sliceStream(E);if(I&&O.push(null),E.previous=u,u&&(u.next=E),u=E,i.defineSkip(E.start),i.write(O),n.parser.lazy[E.start.line]){let d=i.events.length;for(;d--;)if(i.events[d][1].start.offset<o&&(!i.events[d][1].end||i.events[d][1].end.offset>o))return;let C=n.events.length,L=C,_,Q;for(;L--;)if(n.events[L][0]==="exit"&&n.events[L][1].type==="chunkFlow"){if(_){Q=n.events[L][1].end;break}_=!0}for(x(r),d=C;d<n.events.length;)n.events[d][1].end=Object.assign({},Q),d++;W(n.events,L+1,0,n.events.slice(C)),n.events.length=d}}function x(E){let I=t.length;for(;I-- >E;){let O=t[I];n.containerState=O[1],O[0].exit.call(n,e)}t.length=E}function b(){i.write([null]),u=void 0,i=void 0,n.containerState._closeFlow=void 0}}function Qi(e,n,t){return T(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var Wn=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var ee=de(/[A-Za-z]/),K=de(/[\dA-Za-z]/),Qn=de(/[#-'*+\--9=?A-Z^-~]/);function Gn(e){return e!==null&&(e<32||e===127)}var Je=de(/\d/),Yn=de(/[\dA-Fa-f]/),Jn=de(/[!-/:-@[-`{-~]/);function D(e){return e!==null&&e<-2}function $(e){return e!==null&&(e<0||e===32)}function R(e){return e===-2||e===-1||e===32}var Kn=de(Wn),Xn=de(/\s/);function de(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function qt(e){if(e===null||$(e)||Xn(e))return 1;if(Kn(e))return 2}function _e(e,n,t){let r=[],i=-1;for(;++i<e.length;){let u=e[i].resolveAll;u&&!r.includes(u)&&(n=u(n,t),r.push(u))}return n}var Ke={name:"attention",tokenize:Yi,resolveAll:Gi};function Gi(e,n){let t=-1,r,i,u,o,a,f,h,c;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;f=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;let s=Object.assign({},e[r][1].end),p=Object.assign({},e[t][1].start);er(s,-f),er(p,f),o={type:f>1?"strongSequence":"emphasisSequence",start:s,end:Object.assign({},e[r][1].end)},a={type:f>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:p},u={type:f>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:f>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[t][1].start=Object.assign({},a.end),h=[],e[r][1].end.offset-e[r][1].start.offset&&(h=J(h,[["enter",e[r][1],n],["exit",e[r][1],n]])),h=J(h,[["enter",i,n],["enter",o,n],["exit",o,n],["enter",u,n]]),h=J(h,_e(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),h=J(h,[["exit",u,n],["enter",a,n],["exit",a,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(c=2,h=J(h,[["enter",e[t][1],n],["exit",e[t][1],n]])):c=0,W(e,r-1,t-r+3,h),t=r+h.length-c-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Yi(e,n){let t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qt(r),u;return o;function o(f){return u=f,e.enter("attentionSequence"),a(f)}function a(f){if(f===u)return e.consume(f),a;let h=e.exit("attentionSequence"),c=qt(f),s=!c||c===2&&i||t.includes(f),p=!i||i===2&&c||t.includes(r);return h._open=!!(u===42?s:s&&(i||!p)),h._close=!!(u===42?p:p&&(c||!s)),n(f)}}function er(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}var Ht={name:"autolink",tokenize:Ji};function Ji(e,n,t){let r=0;return i;function i(l){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(l),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(l){return ee(l)?(e.consume(l),o):h(l)}function o(l){return l===43||l===45||l===46||K(l)?(r=1,a(l)):h(l)}function a(l){return l===58?(e.consume(l),r=0,f):(l===43||l===45||l===46||K(l))&&r++<32?(e.consume(l),a):(r=0,h(l))}function f(l){return l===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(l),e.exit("autolinkMarker"),e.exit("autolink"),n):l===null||l===32||l===60||Gn(l)?t(l):(e.consume(l),f)}function h(l){return l===64?(e.consume(l),c):Qn(l)?(e.consume(l),h):t(l)}function c(l){return K(l)?s(l):t(l)}function s(l){return l===46?(e.consume(l),r=0,c):l===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(l),e.exit("autolinkMarker"),e.exit("autolink"),n):p(l)}function p(l){if((l===45||K(l))&&r++<63){let y=l===45?p:s;return e.consume(l),y}return t(l)}}var xe={tokenize:Ki,partial:!0};function Ki(e,n,t){return r;function r(u){return R(u)?T(e,i,"linePrefix")(u):i(u)}function i(u){return u===null||D(u)?n(u):t(u)}}var ft={name:"blockQuote",tokenize:Xi,continuation:{tokenize:eu},exit:tu};function Xi(e,n,t){let r=this;return i;function i(o){if(o===62){let a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),u}return t(o)}function u(o){return R(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(o))}}function eu(e,n,t){let r=this;return i;function i(o){return R(o)?T(e,u,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):u(o)}function u(o){return e.attempt(ft,n,t)(o)}}function tu(e){e.exit("blockQuote")}var ht={name:"characterEscape",tokenize:nu};function nu(e,n,t){return r;function r(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),i}function i(u){return Jn(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(u)}}var tr=document.createElement("i");function Ve(e){let n="&"+e+";";tr.innerHTML=n;let t=tr.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}var mt={name:"characterReference",tokenize:ru};function ru(e,n,t){let r=this,i=0,u,o;return a;function a(s){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),f}function f(s){return s===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(s),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),u=31,o=K,c(s))}function h(s){return s===88||s===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(s),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,o=Yn,c):(e.enter("characterReferenceValue"),u=7,o=Je,c(s))}function c(s){if(s===59&&i){let p=e.exit("characterReferenceValue");return o===K&&!Ve(r.sliceSerialize(p))?t(s):(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return o(s)&&i++<u?(e.consume(s),c):t(s)}}var nr={tokenize:uu,partial:!0},gt={name:"codeFenced",tokenize:iu,concrete:!0};function iu(e,n,t){let r=this,i={tokenize:O,partial:!0},u=0,o=0,a;return f;function f(d){return h(d)}function h(d){let C=r.events[r.events.length-1];return u=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=d,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(d)}function c(d){return d===a?(o++,e.consume(d),c):o<3?t(d):(e.exit("codeFencedFenceSequence"),R(d)?T(e,s,"whitespace")(d):s(d))}function s(d){return d===null||D(d)?(e.exit("codeFencedFence"),r.interrupt?n(d):e.check(nr,A,I)(d)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(d))}function p(d){return d===null||D(d)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),s(d)):R(d)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),T(e,l,"whitespace")(d)):d===96&&d===a?t(d):(e.consume(d),p)}function l(d){return d===null||D(d)?s(d):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(d))}function y(d){return d===null||D(d)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),s(d)):d===96&&d===a?t(d):(e.consume(d),y)}function A(d){return e.attempt(i,I,k)(d)}function k(d){return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),x}function x(d){return u>0&&R(d)?T(e,b,"linePrefix",u+1)(d):b(d)}function b(d){return d===null||D(d)?e.check(nr,A,I)(d):(e.enter("codeFlowValue"),E(d))}function E(d){return d===null||D(d)?(e.exit("codeFlowValue"),b(d)):(e.consume(d),E)}function I(d){return e.exit("codeFenced"),n(d)}function O(d,C,L){let _=0;return Q;function Q(P){return d.enter("lineEnding"),d.consume(P),d.exit("lineEnding"),q}function q(P){return d.enter("codeFencedFence"),R(P)?T(d,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):M(P)}function M(P){return P===a?(d.enter("codeFencedFenceSequence"),S(P)):L(P)}function S(P){return P===a?(_++,d.consume(P),S):_>=o?(d.exit("codeFencedFenceSequence"),R(P)?T(d,z,"whitespace")(P):z(P)):L(P)}function z(P){return P===null||D(P)?(d.exit("codeFencedFence"),C(P)):L(P)}}}function uu(e,n,t){let r=this;return i;function i(o){return o===null?t(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),u)}function u(o){return r.parser.lazy[r.now().line]?t(o):n(o)}}var Xe={name:"codeIndented",tokenize:au},ou={tokenize:su,partial:!0};function au(e,n,t){let r=this;return i;function i(h){return e.enter("codeIndented"),T(e,u,"linePrefix",5)(h)}function u(h){let c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(h):t(h)}function o(h){return h===null?f(h):D(h)?e.attempt(ou,o,f)(h):(e.enter("codeFlowValue"),a(h))}function a(h){return h===null||D(h)?(e.exit("codeFlowValue"),o(h)):(e.consume(h),a)}function f(h){return e.exit("codeIndented"),n(h)}}function su(e,n,t){let r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):D(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):T(e,u,"linePrefix",5)(o)}function u(o){let a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?n(o):D(o)?i(o):t(o)}}var vt={name:"codeText",tokenize:pu,resolve:lu,previous:cu};function lu(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function cu(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pu(e,n,t){let r=this,i=0,u,o;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),f(p)}function f(p){return p===96?(e.consume(p),i++,f):(e.exit("codeTextSequence"),h(p))}function h(p){return p===null?t(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),h):p===96?(o=e.enter("codeTextSequence"),u=0,s(p)):D(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||D(p)?(e.exit("codeTextData"),h(p)):(e.consume(p),c)}function s(p){return p===96?(e.consume(p),u++,s):u===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(p)):(o.type="codeTextData",c(p))}}function dt(e){let n={},t=-1,r,i,u,o,a,f,h;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,u=0,u<f.length&&f[u][1].type==="lineEndingBlank"&&(u+=2),u<f.length&&f[u][1].type==="content"))for(;++u<f.length&&f[u][1].type!=="content";)f[u][1].type==="chunkText"&&(f[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,fu(e,t)),t=n[t],h=!0);else if(r[1]._container){for(u=t,i=void 0;u--&&(o=e[u],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=u);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,t),a.unshift(r),W(e,i,t-i+1,a))}}return!h}function fu(e,n){let t=e[n][1],r=e[n][2],i=n-1,u=[],o=t._tokenizer||r.parser[t.contentType](t.start),a=o.events,f=[],h={},c,s,p=-1,l=t,y=0,A=0,k=[A];for(;l;){for(;e[++i][1]!==l;);u.push(i),l._tokenizer||(c=r.sliceStream(l),l.next||c.push(null),s&&o.defineSkip(l.start),l._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),l._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),s=l,l=l.next}for(l=t;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(A=p+1,k.push(A),l._tokenizer=void 0,l.previous=void 0,l=l.next);for(o.events=[],l?(l._tokenizer=void 0,l.previous=void 0):k.pop(),p=k.length;p--;){let x=a.slice(k[p],k[p+1]),b=u.pop();f.unshift([b,b+x.length-1]),W(e,b,2,x)}for(p=-1;++p<f.length;)h[y+f[p][0]]=y+f[p][1],y+=f[p][1]-f[p][0]-1;return h}var $t={tokenize:gu,resolve:mu},hu={tokenize:du,partial:!0};function mu(e){return dt(e),e}function gu(e,n){let t;return r;function r(a){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?u(a):D(a)?e.check(hu,o,u)(a):(e.consume(a),i)}function u(a){return e.exit("chunkContent"),e.exit("content"),n(a)}function o(a){return e.consume(a),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function du(e,n,t){let r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),T(e,u,"linePrefix")}function u(o){if(o===null||D(o))return t(o);let a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?n(o):e.interrupt(r.parser.constructs.flow,t,n)(o)}}var rr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var js=Fe(/[A-Za-z]/),qs=Fe(/[\dA-Za-z]/),Hs=Fe(/[#-'*+\--9=?A-Z^-~]/);function Zt(e){return e!==null&&(e<32||e===127)}var vs=Fe(/\d/),$s=Fe(/[\dA-Fa-f]/),Zs=Fe(/[!-/:-@[-`{-~]/);function ir(e){return e!==null&&e<-2}function ur(e){return e!==null&&(e<0||e===32)}var Ws=Fe(rr),Qs=Fe(/\s/);function Fe(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function xt(e,n,t,r,i,u,o,a,f){let h=f||Number.POSITIVE_INFINITY,c=0;return s;function s(x){return x===60?(e.enter(r),e.enter(i),e.enter(u),e.consume(x),e.exit(u),p):x===null||x===32||x===41||Zt(x)?t(x):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),A(x))}function p(x){return x===62?(e.enter(u),e.consume(x),e.exit(u),e.exit(i),e.exit(r),n):(e.enter(a),e.enter("chunkString",{contentType:"string"}),l(x))}function l(x){return x===62?(e.exit("chunkString"),e.exit(a),p(x)):x===null||x===60||ir(x)?t(x):(e.consume(x),x===92?y:l)}function y(x){return x===60||x===62||x===92?(e.consume(x),l):l(x)}function A(x){return!c&&(x===null||x===41||ur(x))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),n(x)):c<h&&x===40?(e.consume(x),c++,A):x===41?(e.consume(x),c--,A):x===null||x===32||x===40||Zt(x)?t(x):(e.consume(x),x===92?k:A)}function k(x){return x===40||x===41||x===92?(e.consume(x),A):A(x)}}var or=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var el=Ae(/[A-Za-z]/),tl=Ae(/[\dA-Za-z]/),nl=Ae(/[#-'*+\--9=?A-Z^-~]/);var rl=Ae(/\d/),il=Ae(/[\dA-Fa-f]/),ul=Ae(/[!-/:-@[-`{-~]/);function Wt(e){return e!==null&&e<-2}function ar(e){return e===-2||e===-1||e===32}var ol=Ae(or),al=Ae(/\s/);function Ae(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function Ft(e,n,t,r,i,u){let o=this,a=0,f;return h;function h(l){return e.enter(r),e.enter(i),e.consume(l),e.exit(i),e.enter(u),c}function c(l){return a>999||l===null||l===91||l===93&&!f||l===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(l):l===93?(e.exit(u),e.enter(i),e.consume(l),e.exit(i),e.exit(r),n):Wt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),s(l))}function s(l){return l===null||l===91||l===93||Wt(l)||a++>999?(e.exit("chunkString"),c(l)):(e.consume(l),f||(f=!ar(l)),l===92?p:s)}function p(l){return l===91||l===92||l===93?(e.consume(l),a++,s):s(l)}}var sr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var hl=Ee(/[A-Za-z]/),ml=Ee(/[\dA-Za-z]/),gl=Ee(/[#-'*+\--9=?A-Z^-~]/);var dl=Ee(/\d/),xl=Ee(/[\dA-Fa-f]/),Fl=Ee(/[!-/:-@[-`{-~]/);function Qt(e){return e!==null&&e<-2}var Al=Ee(sr),El=Ee(/\s/);function Ee(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function At(e,n,t,r,i,u){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,f):t(p)}function f(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),n):(e.enter(u),h(p))}function h(p){return p===o?(e.exit(u),f(o)):p===null?t(p):Qt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),T(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===o||p===null||Qt(p)?(e.exit("chunkString"),h(p)):(e.consume(p),p===92?s:c)}function s(p){return p===o||p===92?(e.consume(p),c):c(p)}}var lr=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;var Dl=ke(/[A-Za-z]/),Bl=ke(/[\dA-Za-z]/),Tl=ke(/[#-'*+\--9=?A-Z^-~]/);var Il=ke(/\d/),Ll=ke(/[\dA-Fa-f]/),Pl=ke(/[!-/:-@[-`{-~]/);function cr(e){return e!==null&&e<-2}function pr(e){return e===-2||e===-1||e===32}var zl=ke(lr),Ol=ke(/\s/);function ke(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function Te(e,n){let t;return r;function r(i){return cr(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):pr(i)?T(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function pe(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Gt={name:"definition",tokenize:Fu},xu={tokenize:Au,partial:!0};function Fu(e,n,t){let r=this,i;return u;function u(l){return e.enter("definition"),o(l)}function o(l){return Ft.call(r,e,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function a(l){return i=pe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),f):t(l)}function f(l){return $(l)?Te(e,h)(l):h(l)}function h(l){return xt(e,c,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(l)}function c(l){return e.attempt(xu,s,s)(l)}function s(l){return R(l)?T(e,p,"whitespace")(l):p(l)}function p(l){return l===null||D(l)?(e.exit("definition"),r.parser.defined.push(i),n(l)):t(l)}}function Au(e,n,t){return r;function r(a){return $(a)?Te(e,i)(a):t(a)}function i(a){return At(e,u,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function u(a){return R(a)?T(e,o,"whitespace")(a):o(a)}function o(a){return a===null||D(a)?n(a):t(a)}}var Yt={name:"hardBreakEscape",tokenize:Eu};function Eu(e,n,t){return r;function r(u){return e.enter("hardBreakEscape"),e.consume(u),i}function i(u){return D(u)?(e.exit("hardBreakEscape"),n(u)):t(u)}}var Jt={name:"headingAtx",tokenize:yu,resolve:ku};function ku(e,n){let t=e.length-2,r=3,i,u;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},u={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},W(e,r,t-r+1,[["enter",i,n],["enter",u,n],["exit",u,n],["exit",i,n]])),e}function yu(e,n,t){let r=0;return i;function i(c){return e.enter("atxHeading"),u(c)}function u(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||$(c)?(e.exit("atxHeadingSequence"),a(c)):t(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),f(c)):c===null||D(c)?(e.exit("atxHeading"),n(c)):R(c)?T(e,a,"whitespace")(c):(e.enter("atxHeadingText"),h(c))}function f(c){return c===35?(e.consume(c),f):(e.exit("atxHeadingSequence"),a(c))}function h(c){return c===null||c===35||$(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),h)}}var fr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kt=["pre","script","style","textarea"];var Xt={name:"htmlFlow",tokenize:Su,resolveTo:bu,concrete:!0},Cu={tokenize:Bu,partial:!0},wu={tokenize:Du,partial:!0};function bu(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Su(e,n,t){let r=this,i,u,o,a,f;return h;function h(g){return c(g)}function c(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),s}function s(g){return g===33?(e.consume(g),p):g===47?(e.consume(g),u=!0,A):g===63?(e.consume(g),i=3,r.interrupt?n:m):ee(g)?(e.consume(g),o=String.fromCharCode(g),k):t(g)}function p(g){return g===45?(e.consume(g),i=2,l):g===91?(e.consume(g),i=5,a=0,y):ee(g)?(e.consume(g),i=4,r.interrupt?n:m):t(g)}function l(g){return g===45?(e.consume(g),r.interrupt?n:m):t(g)}function y(g){let X="CDATA[";return g===X.charCodeAt(a++)?(e.consume(g),a===X.length?r.interrupt?n:M:y):t(g)}function A(g){return ee(g)?(e.consume(g),o=String.fromCharCode(g),k):t(g)}function k(g){if(g===null||g===47||g===62||$(g)){let X=g===47,Pe=o.toLowerCase();return!X&&!u&&Kt.includes(Pe)?(i=1,r.interrupt?n(g):M(g)):fr.includes(o.toLowerCase())?(i=6,X?(e.consume(g),x):r.interrupt?n(g):M(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(g):u?b(g):E(g))}return g===45||K(g)?(e.consume(g),o+=String.fromCharCode(g),k):t(g)}function x(g){return g===62?(e.consume(g),r.interrupt?n:M):t(g)}function b(g){return R(g)?(e.consume(g),b):Q(g)}function E(g){return g===47?(e.consume(g),Q):g===58||g===95||ee(g)?(e.consume(g),I):R(g)?(e.consume(g),E):Q(g)}function I(g){return g===45||g===46||g===58||g===95||K(g)?(e.consume(g),I):O(g)}function O(g){return g===61?(e.consume(g),d):R(g)?(e.consume(g),O):E(g)}function d(g){return g===null||g===60||g===61||g===62||g===96?t(g):g===34||g===39?(e.consume(g),f=g,C):R(g)?(e.consume(g),d):L(g)}function C(g){return g===f?(e.consume(g),f=null,_):g===null||D(g)?t(g):(e.consume(g),C)}function L(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||$(g)?O(g):(e.consume(g),L)}function _(g){return g===47||g===62||R(g)?E(g):t(g)}function Q(g){return g===62?(e.consume(g),q):t(g)}function q(g){return g===null||D(g)?M(g):R(g)?(e.consume(g),q):t(g)}function M(g){return g===45&&i===2?(e.consume(g),j):g===60&&i===1?(e.consume(g),v):g===62&&i===4?(e.consume(g),te):g===63&&i===3?(e.consume(g),m):g===93&&i===5?(e.consume(g),oe):D(g)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Cu,ae,S)(g)):g===null||D(g)?(e.exit("htmlFlowData"),S(g)):(e.consume(g),M)}function S(g){return e.check(wu,z,ae)(g)}function z(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),P}function P(g){return g===null||D(g)?S(g):(e.enter("htmlFlowData"),M(g))}function j(g){return g===45?(e.consume(g),m):M(g)}function v(g){return g===47?(e.consume(g),o="",re):M(g)}function re(g){if(g===62){let X=o.toLowerCase();return Kt.includes(X)?(e.consume(g),te):M(g)}return ee(g)&&o.length<8?(e.consume(g),o+=String.fromCharCode(g),re):M(g)}function oe(g){return g===93?(e.consume(g),m):M(g)}function m(g){return g===62?(e.consume(g),te):g===45&&i===2?(e.consume(g),m):M(g)}function te(g){return g===null||D(g)?(e.exit("htmlFlowData"),ae(g)):(e.consume(g),te)}function ae(g){return e.exit("htmlFlow"),n(g)}}function Du(e,n,t){let r=this;return i;function i(o){return D(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),u):t(o)}function u(o){return r.parser.lazy[r.now().line]?t(o):n(o)}}function Bu(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(xe,n,t)}}var en={name:"htmlText",tokenize:Tu};function Tu(e,n,t){let r=this,i,u,o;return a;function a(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),f}function f(m){return m===33?(e.consume(m),h):m===47?(e.consume(m),O):m===63?(e.consume(m),E):ee(m)?(e.consume(m),L):t(m)}function h(m){return m===45?(e.consume(m),c):m===91?(e.consume(m),u=0,y):ee(m)?(e.consume(m),b):t(m)}function c(m){return m===45?(e.consume(m),l):t(m)}function s(m){return m===null?t(m):m===45?(e.consume(m),p):D(m)?(o=s,v(m)):(e.consume(m),s)}function p(m){return m===45?(e.consume(m),l):s(m)}function l(m){return m===62?j(m):m===45?p(m):s(m)}function y(m){let te="CDATA[";return m===te.charCodeAt(u++)?(e.consume(m),u===te.length?A:y):t(m)}function A(m){return m===null?t(m):m===93?(e.consume(m),k):D(m)?(o=A,v(m)):(e.consume(m),A)}function k(m){return m===93?(e.consume(m),x):A(m)}function x(m){return m===62?j(m):m===93?(e.consume(m),x):A(m)}function b(m){return m===null||m===62?j(m):D(m)?(o=b,v(m)):(e.consume(m),b)}function E(m){return m===null?t(m):m===63?(e.consume(m),I):D(m)?(o=E,v(m)):(e.consume(m),E)}function I(m){return m===62?j(m):E(m)}function O(m){return ee(m)?(e.consume(m),d):t(m)}function d(m){return m===45||K(m)?(e.consume(m),d):C(m)}function C(m){return D(m)?(o=C,v(m)):R(m)?(e.consume(m),C):j(m)}function L(m){return m===45||K(m)?(e.consume(m),L):m===47||m===62||$(m)?_(m):t(m)}function _(m){return m===47?(e.consume(m),j):m===58||m===95||ee(m)?(e.consume(m),Q):D(m)?(o=_,v(m)):R(m)?(e.consume(m),_):j(m)}function Q(m){return m===45||m===46||m===58||m===95||K(m)?(e.consume(m),Q):q(m)}function q(m){return m===61?(e.consume(m),M):D(m)?(o=q,v(m)):R(m)?(e.consume(m),q):_(m)}function M(m){return m===null||m===60||m===61||m===62||m===96?t(m):m===34||m===39?(e.consume(m),i=m,S):D(m)?(o=M,v(m)):R(m)?(e.consume(m),M):(e.consume(m),z)}function S(m){return m===i?(e.consume(m),i=void 0,P):m===null?t(m):D(m)?(o=S,v(m)):(e.consume(m),S)}function z(m){return m===null||m===34||m===39||m===60||m===61||m===96?t(m):m===47||m===62||$(m)?_(m):(e.consume(m),z)}function P(m){return m===47||m===62||$(m)?_(m):t(m)}function j(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),n):t(m)}function v(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),re}function re(m){return R(m)?T(e,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):oe(m)}function oe(m){return e.enter("htmlTextData"),o(m)}}var Ie={name:"labelEnd",tokenize:Ru,resolveTo:Ou,resolveAll:zu},Iu={tokenize:Mu},Lu={tokenize:_u},Pu={tokenize:Vu};function zu(e){let n=-1;for(;++n<e.length;){let t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function Ou(e,n){let t=e.length,r=0,i,u,o,a;for(;t--;)if(i=e[t][1],u){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(u=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);let f={type:e[u][1].type==="labelLink"?"link":"image",start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)},h={type:"label",start:Object.assign({},e[u][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[u+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",f,n],["enter",h,n]],a=J(a,e.slice(u+1,u+r+3)),a=J(a,[["enter",c,n]]),a=J(a,_e(n.parser.constructs.insideSpan.null,e.slice(u+r+4,o-3),n)),a=J(a,[["exit",c,n],e[o-2],e[o-1],["exit",h,n]]),a=J(a,e.slice(o+1)),a=J(a,[["exit",f,n]]),W(e,u,e.length,a),e}function Ru(e,n,t){let r=this,i=r.events.length,u,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){u=r.events[i][1];break}return a;function a(p){return u?u._inactive?s(p):(o=r.parser.defined.includes(pe(r.sliceSerialize({start:u.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),f):t(p)}function f(p){return p===40?e.attempt(Iu,c,o?c:s)(p):p===91?e.attempt(Lu,c,o?h:s)(p):o?c(p):s(p)}function h(p){return e.attempt(Pu,c,s)(p)}function c(p){return n(p)}function s(p){return u._balanced=!0,t(p)}}function Mu(e,n,t){return r;function r(s){return e.enter("resource"),e.enter("resourceMarker"),e.consume(s),e.exit("resourceMarker"),i}function i(s){return $(s)?Te(e,u)(s):u(s)}function u(s){return s===41?c(s):xt(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(s)}function o(s){return $(s)?Te(e,f)(s):c(s)}function a(s){return t(s)}function f(s){return s===34||s===39||s===40?At(e,h,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(s):c(s)}function h(s){return $(s)?Te(e,c)(s):c(s)}function c(s){return s===41?(e.enter("resourceMarker"),e.consume(s),e.exit("resourceMarker"),e.exit("resource"),n):t(s)}}function _u(e,n,t){let r=this;return i;function i(a){return Ft.call(r,e,u,o,"reference","referenceMarker","referenceString")(a)}function u(a){return r.parser.defined.includes(pe(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(a):t(a)}function o(a){return t(a)}}function Vu(e,n,t){return r;function r(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),i}function i(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),n):t(u)}}var tn={name:"labelStartImage",tokenize:Uu,resolveAll:Ie.resolveAll};function Uu(e,n,t){let r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),u}function u(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):n(a)}}var nn={name:"labelStartLink",tokenize:Nu,resolveAll:Ie.resolveAll};function Nu(e,n,t){let r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),u}function u(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):n(o)}}var et={name:"lineEnding",tokenize:ju};function ju(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),T(e,n,"linePrefix")}}var Le={name:"thematicBreak",tokenize:qu};function qu(e,n,t){let r=0,i;return u;function u(h){return e.enter("thematicBreak"),o(h)}function o(h){return i=h,a(h)}function a(h){return h===i?(e.enter("thematicBreakSequence"),f(h)):r>=3&&(h===null||D(h))?(e.exit("thematicBreak"),n(h)):t(h)}function f(h){return h===i?(e.consume(h),r++,f):(e.exit("thematicBreakSequence"),R(h)?T(e,a,"whitespace")(h):a(h))}}var G={name:"list",tokenize:$u,continuation:{tokenize:Zu},exit:Qu},Hu={tokenize:Gu,partial:!0},vu={tokenize:Wu,partial:!0};function $u(e,n,t){let r=this,i=r.events[r.events.length-1],u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(l){let y=r.containerState.type||(l===42||l===43||l===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||l===r.containerState.marker:Je(l)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),l===42||l===45?e.check(Le,t,h)(l):h(l);if(!r.interrupt||l===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(l)}return t(l)}function f(l){return Je(l)&&++o<10?(e.consume(l),f):(!r.interrupt||o<2)&&(r.containerState.marker?l===r.containerState.marker:l===41||l===46)?(e.exit("listItemValue"),h(l)):t(l)}function h(l){return e.enter("listItemMarker"),e.consume(l),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||l,e.check(xe,r.interrupt?t:c,e.attempt(Hu,p,s))}function c(l){return r.containerState.initialBlankLine=!0,u++,p(l)}function s(l){return R(l)?(e.enter("listItemPrefixWhitespace"),e.consume(l),e.exit("listItemPrefixWhitespace"),p):t(l)}function p(l){return r.containerState.size=u+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(l)}}function Zu(e,n,t){let r=this;return r.containerState._closeFlow=void 0,e.check(xe,i,u);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,T(e,n,"listItemIndent",r.containerState.size+1)(a)}function u(a){return r.containerState.furtherBlankLines||!R(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(vu,n,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,T(e,e.attempt(G,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Wu(e,n,t){let r=this;return T(e,i,"listItemIndent",r.containerState.size+1);function i(u){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?n(u):t(u)}}function Qu(e){e.exit(this.containerState.type)}function Gu(e,n,t){let r=this;return T(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(u){let o=r.events[r.events.length-1];return!R(u)&&o&&o[1].type==="listItemPrefixWhitespace"?n(u):t(u)}}var Et={name:"setextUnderline",tokenize:Ju,resolveTo:Yu};function Yu(e,n){let t=e.length,r,i,u;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!u&&e[t][1].type==="definition"&&(u=t);let o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",u?(e.splice(i,0,["enter",o,n]),e.splice(u+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[u][1].end)):e[r][1]=o,e.push(["exit",o,n]),e}function Ju(e,n,t){let r=this,i;return u;function u(h){let c=r.events.length,s;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){s=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),i=h,o(h)):t(h)}function o(h){return e.enter("setextHeadingLineSequence"),a(h)}function a(h){return h===i?(e.consume(h),a):(e.exit("setextHeadingLineSequence"),R(h)?T(e,f,"lineSuffix")(h):f(h))}function f(h){return h===null||D(h)?(e.exit("setextHeadingLine"),n(h)):t(h)}}var hr={tokenize:Ku};function Ku(e){let n=this,t=e.attempt(xe,r,e.attempt(this.parser.constructs.flowInitial,i,T(e,e.attempt(this.parser.constructs.flow,i,e.attempt($t,i)),"linePrefix")));return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),n.currentConstruct=void 0,t}}var mr={resolveAll:Fr()},gr=xr("string"),dr=xr("text");function xr(e){return{tokenize:n,resolveAll:Fr(e==="text"?Xu:void 0)};function n(t){let r=this,i=this.parser.constructs[e],u=t.attempt(i,o,a);return o;function o(c){return h(c)?u(c):a(c)}function a(c){if(c===null){t.consume(c);return}return t.enter("data"),t.consume(c),f}function f(c){return h(c)?(t.exit("data"),u(c)):(t.consume(c),f)}function h(c){if(c===null)return!0;let s=i[c],p=-1;if(s)for(;++p<s.length;){let l=s[p];if(!l.previous||l.previous.call(r,r.previous))return!0}return!1}}}function Fr(e){return n;function n(t,r){let i=-1,u;for(;++i<=t.length;)u===void 0?t[i]&&t[i][1].type==="data"&&(u=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==u+2&&(t[u][1].end=t[i-1][1].end,t.splice(u+2,i-u-2),i=u+2),u=void 0);return e?e(t,r):t}}function Xu(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){let r=e[t-1][1],i=n.sliceStream(r),u=i.length,o=-1,a=0,f;for(;u--;){let h=i[u];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(h===-2)f=!0,a++;else if(h!==-1){u++;break}}if(a){let h={type:t===e.length||f||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+u,_bufferIndex:u?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},h.start),r.start.offset===r.end.offset?Object.assign(r,h):(e.splice(t,0,["enter",h,n],["exit",h,n]),t+=2)}t++}return e}function Ar(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},u=[],o=[],a=[],f=!0,h={consume:I,enter:O,exit:d,attempt:_(C),check:_(L),interrupt:_(L,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:A,sliceSerialize:y,now:k,defineSkip:x,write:l},s=n.tokenize.call(c,h),p;return n.resolveAll&&u.push(n),c;function l(S){return o=J(o,S),b(),o[o.length-1]!==null?[]:(Q(n,0),c.events=_e(u,c.events,c),c.events)}function y(S,z){return to(A(S),z)}function A(S){return eo(o,S)}function k(){let{line:S,column:z,offset:P,_index:j,_bufferIndex:v}=r;return{line:S,column:z,offset:P,_index:j,_bufferIndex:v}}function x(S){i[S.line]=S.column,M()}function b(){let S;for(;r._index<o.length;){let z=o[r._index];if(typeof z=="string")for(S=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===S&&r._bufferIndex<z.length;)E(z.charCodeAt(r._bufferIndex));else E(z)}}function E(S){f=void 0,p=S,s=s(S)}function I(S){Me(S)?(r.line++,r.column=1,r.offset+=S===-3?2:1,M()):S!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=S,f=!0}function O(S,z){let P=z||{};return P.type=S,P.start=k(),c.events.push(["enter",P,c]),a.push(P),P}function d(S){let z=a.pop();return z.end=k(),c.events.push(["exit",z,c]),z}function C(S,z){Q(S,z.from)}function L(S,z){z.restore()}function _(S,z){return P;function P(j,v,re){let oe,m,te,ae;return Array.isArray(j)?X(j):"tokenize"in j?X([j]):g(j);function g(Z){return ve;function ve(se){let ze=se!==null&&Z[se],De=se!==null&&Z.null,It=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(De)?De:De?[De]:[]];return X(It)(se)}}function X(Z){return oe=Z,m=0,Z.length===0?re:Pe(Z[m])}function Pe(Z){return ve;function ve(se){return ae=q(),te=Z,Z.partial||(c.currentConstruct=Z),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?He(se):Z.tokenize.call(z?Object.assign(Object.create(c),z):c,h,Tt,He)(se)}}function Tt(Z){return f=!0,S(te,ae),v}function He(Z){return f=!0,ae.restore(),++m<oe.length?Pe(oe[m]):re}}}function Q(S,z){S.resolveAll&&!u.includes(S)&&u.push(S),S.resolve&&W(c.events,z,c.events.length-z,S.resolve(c.events.slice(z),c)),S.resolveTo&&(c.events=S.resolveTo(c.events,c))}function q(){let S=k(),z=c.previous,P=c.currentConstruct,j=c.events.length,v=Array.from(a);return{restore:re,from:j};function re(){r=S,c.previous=z,c.currentConstruct=P,c.events.length=j,a=v,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function eo(e,n){let t=n.start._index,r=n.start._bufferIndex,i=n.end._index,u=n.end._bufferIndex,o;if(t===i)o=[e[t].slice(r,u)];else{if(o=e.slice(t,i),r>-1){let a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}u>0&&o.push(e[i].slice(0,u))}return o}function to(e,n){let t=-1,r=[],i;for(;++t<e.length;){let u=e[t],o;if(typeof u=="string")o=u;else switch(u){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=n?" ":"	";break}case-1:{if(!n&&i)continue;o=" ";break}default:o=String.fromCharCode(u)}i=u===-2,r.push(o)}return r.join("")}var rn={};In(rn,{attentionMarkers:()=>lo,contentInitial:()=>ro,disable:()=>co,document:()=>no,flow:()=>uo,flowInitial:()=>io,insideSpan:()=>so,string:()=>oo,text:()=>ao});var no={42:G,43:G,45:G,48:G,49:G,50:G,51:G,52:G,53:G,54:G,55:G,56:G,57:G,62:ft},ro={91:Gt},io={[-2]:Xe,[-1]:Xe,32:Xe},uo={35:Jt,42:Le,45:[Et,Le],60:Xt,61:Et,95:Le,96:gt,126:gt},oo={38:mt,92:ht},ao={[-5]:et,[-4]:et,[-3]:et,33:tn,38:mt,42:Ke,60:[Ht,en],91:nn,92:[Yt,ht],93:Ie,95:Ke,96:vt},so={null:[Ke,mr]},lo={null:[42,95]},co={null:[]};function Er(e){let t=jn([rn,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(vn),document:i(Zn),flow:i(hr),string:i(gr),text:i(dr)};return r;function i(u){return o;function o(a){return Ar(r,u,a)}}}var kr=/[\0\t\n\r]/g;function yr(){let e=1,n="",t=!0,r;return i;function i(u,o,a){let f=[],h,c,s,p,l;for(u=n+u.toString(o),s=0,n="",t&&(u.charCodeAt(0)===65279&&s++,t=void 0);s<u.length;){if(kr.lastIndex=s,h=kr.exec(u),p=h&&h.index!==void 0?h.index:u.length,l=u.charCodeAt(p),!h){n=u.slice(s);break}if(l===10&&s===p&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),s<p&&(f.push(u.slice(s,p)),e+=p-s),l){case 0:{f.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,f.push(-2);e++<c;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:r=!0,e=1}s=p+1}return a&&(r&&f.push(-5),n&&f.push(n),f.push(null)),f}}function Cr(e){for(;!dt(e););return e}function kt(e,n){let t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}var po=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wr(e){return e.replace(po,fo)}function fo(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){let i=t.charCodeAt(1),u=i===120||i===88;return kt(t.slice(u?2:1),u?16:10)}return Ve(t)||e}function Ue(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?br(e.position):"start"in e||"end"in e?br(e):"line"in e||"column"in e?un(e):""}function un(e){return Sr(e&&e.line)+":"+Sr(e&&e.column)}function br(e){return un(e&&e.start)+"-"+un(e&&e.end)}function Sr(e){return e&&typeof e=="number"?e:1}var Br={}.hasOwnProperty,on=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),ho(t)(Cr(Er(t).document().write(yr()(e,n,!0))))};function ho(e){let n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Bn),autolinkProtocol:q,autolinkEmail:q,atxHeading:a(bn),blockQuote:a(ze),characterEscape:q,characterReference:q,codeFenced:a(De),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:a(De,f),codeText:a(It,f),codeTextData:q,data:q,codeFlowValue:q,definition:a(Fi),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:a(Ai),hardBreakEscape:a(Sn),hardBreakTrailing:a(Sn),htmlFlow:a(Dn,f),htmlFlowData:q,htmlText:a(Dn,f),htmlTextData:q,image:a(Ei),label:f,link:a(Bn),listItem:a(ki),listItemValue:y,listOrdered:a(Tn,l),listUnordered:a(Tn),paragraph:a(yi),reference:Pe,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:a(bn),strong:a(Ci),thematicBreak:a(bi)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:se,autolinkProtocol:ve,blockQuote:c(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:He,characterReferenceMarkerNumeric:He,characterReferenceValue:Z,codeFenced:c(b),codeFencedFence:x,codeFencedFenceInfo:A,codeFencedFenceMeta:k,codeFlowValue:M,codeIndented:c(E),codeText:c(v),codeTextData:M,data:M,definition:c(),definitionDestinationString:d,definitionLabelString:I,definitionTitleString:O,emphasis:c(),hardBreakEscape:c(z),hardBreakTrailing:c(z),htmlFlow:c(P),htmlFlowData:M,htmlText:c(j),htmlTextData:M,image:c(oe),label:te,labelText:m,lineEnding:S,link:c(re),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Tt,resourceDestinationString:ae,resourceTitleString:g,resource:X,setextHeading:c(Q),setextHeadingLineSequence:_,setextHeadingText:L,strong:c(),thematicBreak:c()}};Tr(n,(e||{}).mdastExtensions||[]);let t={};return r;function r(F){let w={type:"root",children:[]},B={stack:[w],tokenStack:[],config:n,enter:h,exit:s,buffer:f,resume:p,setData:u,getData:o},V=[],U=-1;for(;++U<F.length;)if(F[U][1].type==="listOrdered"||F[U][1].type==="listUnordered")if(F[U][0]==="enter")V.push(U);else{let ie=V.pop();U=i(F,ie,U)}for(U=-1;++U<F.length;){let ie=n[F[U][0]];Br.call(ie,F[U][1].type)&&ie[F[U][1].type].call(Object.assign({sliceSerialize:F[U][2].sliceSerialize},B),F[U][1])}if(B.tokenStack.length>0){let ie=B.tokenStack[B.tokenStack.length-1];(ie[1]||Dr).call(B,void 0,ie[0])}for(w.position={start:ye(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:ye(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},U=-1;++U<n.transforms.length;)w=n.transforms[U](w)||w;return w}function i(F,w,B){let V=w-1,U=-1,ie=!1,fe,le,$e,Ze;for(;++V<=B;){let H=F[V];if(H[1].type==="listUnordered"||H[1].type==="listOrdered"||H[1].type==="blockQuote"?(H[0]==="enter"?U++:U--,Ze=void 0):H[1].type==="lineEndingBlank"?H[0]==="enter"&&(fe&&!Ze&&!U&&!$e&&($e=V),Ze=void 0):H[1].type==="linePrefix"||H[1].type==="listItemValue"||H[1].type==="listItemMarker"||H[1].type==="listItemPrefix"||H[1].type==="listItemPrefixWhitespace"||(Ze=void 0),!U&&H[0]==="enter"&&H[1].type==="listItemPrefix"||U===-1&&H[0]==="exit"&&(H[1].type==="listUnordered"||H[1].type==="listOrdered")){if(fe){let Lt=V;for(le=void 0;Lt--;){let ce=F[Lt];if(ce[1].type==="lineEnding"||ce[1].type==="lineEndingBlank"){if(ce[0]==="exit")continue;le&&(F[le][1].type="lineEndingBlank",ie=!0),ce[1].type="lineEnding",le=Lt}else if(!(ce[1].type==="linePrefix"||ce[1].type==="blockQuotePrefix"||ce[1].type==="blockQuotePrefixWhitespace"||ce[1].type==="blockQuoteMarker"||ce[1].type==="listItemIndent"))break}$e&&(!le||$e<le)&&(fe._spread=!0),fe.end=Object.assign({},le?F[le][1].start:H[1].end),F.splice(le||V,0,["exit",fe,H[2]]),V++,B++}H[1].type==="listItemPrefix"&&(fe={type:"listItem",_spread:!1,start:Object.assign({},H[1].start),end:void 0},F.splice(V,0,["enter",fe,H[2]]),V++,B++,$e=void 0,Ze=!0)}}return F[w][1]._spread=ie,B}function u(F,w){t[F]=w}function o(F){return t[F]}function a(F,w){return B;function B(V){h.call(this,F(V),V),w&&w.call(this,V)}}function f(){this.stack.push({type:"fragment",children:[]})}function h(F,w,B){return this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([w,B]),F.position={start:ye(w.start)},F}function c(F){return w;function w(B){F&&F.call(this,B),s.call(this,B)}}function s(F,w){let B=this.stack.pop(),V=this.tokenStack.pop();if(V)V[0].type!==F.type&&(w?w.call(this,F,V[0]):(V[1]||Dr).call(this,F,V[0]));else throw new Error("Cannot close `"+F.type+"` ("+Ue({start:F.start,end:F.end})+"): it\u2019s not open");return B.position.end=ye(F.end),B}function p(){return Nt(this.stack.pop())}function l(){u("expectingFirstListItemValue",!0)}function y(F){if(o("expectingFirstListItemValue")){let w=this.stack[this.stack.length-2];w.start=Number.parseInt(this.sliceSerialize(F),10),u("expectingFirstListItemValue")}}function A(){let F=this.resume(),w=this.stack[this.stack.length-1];w.lang=F}function k(){let F=this.resume(),w=this.stack[this.stack.length-1];w.meta=F}function x(){o("flowCodeInside")||(this.buffer(),u("flowCodeInside",!0))}function b(){let F=this.resume(),w=this.stack[this.stack.length-1];w.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u("flowCodeInside")}function E(){let F=this.resume(),w=this.stack[this.stack.length-1];w.value=F.replace(/(\r?\n|\r)$/g,"")}function I(F){let w=this.resume(),B=this.stack[this.stack.length-1];B.label=w,B.identifier=pe(this.sliceSerialize(F)).toLowerCase()}function O(){let F=this.resume(),w=this.stack[this.stack.length-1];w.title=F}function d(){let F=this.resume(),w=this.stack[this.stack.length-1];w.url=F}function C(F){let w=this.stack[this.stack.length-1];if(!w.depth){let B=this.sliceSerialize(F).length;w.depth=B}}function L(){u("setextHeadingSlurpLineEnding",!0)}function _(F){let w=this.stack[this.stack.length-1];w.depth=this.sliceSerialize(F).charCodeAt(0)===61?1:2}function Q(){u("setextHeadingSlurpLineEnding")}function q(F){let w=this.stack[this.stack.length-1],B=w.children[w.children.length-1];(!B||B.type!=="text")&&(B=wi(),B.position={start:ye(F.start)},w.children.push(B)),this.stack.push(B)}function M(F){let w=this.stack.pop();w.value+=this.sliceSerialize(F),w.position.end=ye(F.end)}function S(F){let w=this.stack[this.stack.length-1];if(o("atHardBreak")){let B=w.children[w.children.length-1];B.position.end=ye(F.end),u("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(w.type)&&(q.call(this,F),M.call(this,F))}function z(){u("atHardBreak",!0)}function P(){let F=this.resume(),w=this.stack[this.stack.length-1];w.value=F}function j(){let F=this.resume(),w=this.stack[this.stack.length-1];w.value=F}function v(){let F=this.resume(),w=this.stack[this.stack.length-1];w.value=F}function re(){let F=this.stack[this.stack.length-1];if(o("inReference")){let w=o("referenceType")||"shortcut";F.type+="Reference",F.referenceType=w,delete F.url,delete F.title}else delete F.identifier,delete F.label;u("referenceType")}function oe(){let F=this.stack[this.stack.length-1];if(o("inReference")){let w=o("referenceType")||"shortcut";F.type+="Reference",F.referenceType=w,delete F.url,delete F.title}else delete F.identifier,delete F.label;u("referenceType")}function m(F){let w=this.sliceSerialize(F),B=this.stack[this.stack.length-2];B.label=wr(w),B.identifier=pe(w).toLowerCase()}function te(){let F=this.stack[this.stack.length-1],w=this.resume(),B=this.stack[this.stack.length-1];if(u("inReference",!0),B.type==="link"){let V=F.children;B.children=V}else B.alt=w}function ae(){let F=this.resume(),w=this.stack[this.stack.length-1];w.url=F}function g(){let F=this.resume(),w=this.stack[this.stack.length-1];w.title=F}function X(){u("inReference")}function Pe(){u("referenceType","collapsed")}function Tt(F){let w=this.resume(),B=this.stack[this.stack.length-1];B.label=w,B.identifier=pe(this.sliceSerialize(F)).toLowerCase(),u("referenceType","full")}function He(F){u("characterReferenceType",F.type)}function Z(F){let w=this.sliceSerialize(F),B=o("characterReferenceType"),V;B?(V=kt(w,B==="characterReferenceMarkerNumeric"?10:16),u("characterReferenceType")):V=Ve(w);let U=this.stack.pop();U.value+=V,U.position.end=ye(F.end)}function ve(F){M.call(this,F);let w=this.stack[this.stack.length-1];w.url=this.sliceSerialize(F)}function se(F){M.call(this,F);let w=this.stack[this.stack.length-1];w.url="mailto:"+this.sliceSerialize(F)}function ze(){return{type:"blockquote",children:[]}}function De(){return{type:"code",lang:null,meta:null,value:""}}function It(){return{type:"inlineCode",value:""}}function Fi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ai(){return{type:"emphasis",children:[]}}function bn(){return{type:"heading",depth:void 0,children:[]}}function Sn(){return{type:"break"}}function Dn(){return{type:"html",value:""}}function Ei(){return{type:"image",title:null,url:"",alt:null}}function Bn(){return{type:"link",title:null,url:"",children:[]}}function Tn(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function ki(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function yi(){return{type:"paragraph",children:[]}}function Ci(){return{type:"strong",children:[]}}function wi(){return{type:"text",value:""}}function bi(){return{type:"thematicBreak"}}}function ye(e){return{line:e.line,column:e.column,offset:e.offset}}function Tr(e,n){let t=-1;for(;++t<n.length;){let r=n[t];Array.isArray(r)?Tr(e,r):mo(e,r)}}function mo(e,n){let t;for(t in n)if(Br.call(n,t)){if(t==="canContainEols"){let r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){let r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){let r=n[t];r&&Object.assign(e[t],r)}}}function Dr(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Ue({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Ue({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Ue({start:n.start,end:n.end})+") is still open")}function yt(e){Object.assign(this,{Parser:t=>{let r=this.data("settings");return on(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function an(e){if(e)throw e}var Yr=lt(sn(),1),Fn=lt(Ur(),1);function tt(e){if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ln(){let e=[],n={run:t,use:r};return n;function t(...i){let u=-1,o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(f,...h){let c=e[++u],s=-1;if(f){o(f);return}for(;++s<i.length;)(h[s]===null||h[s]===void 0)&&(h[s]=i[s]);i=h,c?Nr(c,a)(...h):o(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Nr(e,n){let t;return r;function r(...o){let a=e.length>o.length,f;a&&o.push(i);try{f=e.apply(this,o)}catch(h){let c=h;if(a&&t)throw c;return i(c)}a||(f&&f.then&&typeof f.then=="function"?f.then(u,i):f instanceof Error?i(f):u(f))}function i(o,...a){t||(t=!0,n(o,...a))}function u(o){i(null,o)}}var Zr=lt(sn(),1);function pn(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?jr(e.position):"start"in e||"end"in e?jr(e):"line"in e||"column"in e?cn(e):""}function cn(e){return qr(e&&e.line)+":"+qr(e&&e.column)}function jr(e){return cn(e&&e.start)+"-"+cn(e&&e.end)}function qr(e){return e&&typeof e=="number"?e:1}var Y=class extends Error{constructor(n,t,r){let i=[null,null],u={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){let o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}t&&("type"in t||"position"in t?t.position&&(u=t.position):"start"in t||"end"in t?u=t:("line"in t||"column"in t)&&(u.start=t)),this.name=pn(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=u.start.line,this.column=u.start.column,this.position=u,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}};Y.prototype.file="";Y.prototype.name="";Y.prototype.reason="";Y.prototype.message="";Y.prototype.stack="";Y.prototype.fatal=null;Y.prototype.column=null;Y.prototype.line=null;Y.prototype.source=null;Y.prototype.ruleId=null;Y.prototype.position=null;var ue={basename:go,dirname:xo,extname:Fo,join:Ao,sep:"/"};function go(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');nt(e);let t=0,r=-1,i=e.length,u;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(u){t=i+1;break}}else r<0&&(u=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let o=-1,a=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(u){t=i+1;break}}else o<0&&(u=!0,o=i+1),a>-1&&(e.charCodeAt(i)===n.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=e.length),e.slice(t,r)}function xo(e){if(nt(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function Fo(e){nt(e);let n=e.length,t=-1,r=0,i=-1,u=0,o;for(;n--;){let a=e.charCodeAt(n);if(a===47){if(o){r=n+1;break}continue}t<0&&(o=!0,t=n+1),a===46?i<0?i=n:u!==1&&(u=1):i>-1&&(u=-1)}return i<0||t<0||u===0||u===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function Ao(...e){let n=-1,t;for(;++n<e.length;)nt(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":Eo(t)}function Eo(e){nt(e);let n=e.charCodeAt(0)===47,t=ko(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function ko(e,n){let t="",r=0,i=-1,u=0,o=-1,a,f;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||u===1))if(i!==o-1&&u===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(f=t.lastIndexOf("/"),f!==t.length-1){f<0?(t="",r=0):(t=t.slice(0,f),r=t.length-1-t.lastIndexOf("/")),i=o,u=0;continue}}else if(t.length>0){t="",r=0,i=o,u=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,o):t=e.slice(i+1,o),r=o-i-1;i=o,u=0}else a===46&&u>-1?u++:u=-1}return t}function nt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var Hr={cwd:yo};function yo(){return"/"}function Ne(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function vr(e){if(typeof e=="string")e=new URL(e);else if(!Ne(e)){let n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){let n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Co(e)}function Co(e){if(e.hostname!==""){let r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}let n=e.pathname,t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){let r=n.charCodeAt(t+2);if(r===70||r===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}var fn=["history","path","basename","stem","extname","dirname"],rt=class{constructor(n){let t;n?typeof n=="string"||wo(n)?t={value:n}:Ne(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=Hr.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<fn.length;){let u=fn[r];u in t&&t[u]!==void 0&&t[u]!==null&&(this[u]=u==="history"?[...t[u]]:t[u])}let i;for(i in t)fn.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){Ne(n)&&(n=vr(n)),mn(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?ue.dirname(this.path):void 0}set dirname(n){$r(this.basename,"dirname"),this.path=ue.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?ue.basename(this.path):void 0}set basename(n){mn(n,"basename"),hn(n,"basename"),this.path=ue.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?ue.extname(this.path):void 0}set extname(n){if(hn(n,"extname"),$r(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ue.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?ue.basename(this.path,this.extname):void 0}set stem(n){mn(n,"stem"),hn(n,"stem"),this.path=ue.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){let i=new Y(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){let i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){let i=this.message(n,t,r);throw i.fatal=!0,i}};function hn(e,n){if(e&&e.includes(ue.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+ue.sep+"`")}function mn(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function $r(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function wo(e){return(0,Zr.default)(e)}var An=Kr().freeze(),Jr={}.hasOwnProperty;function Kr(){let e=ln(),n=[],t={},r,i=-1;return u.data=o,u.Parser=void 0,u.Compiler=void 0,u.freeze=a,u.attachers=n,u.use=f,u.parse=h,u.stringify=c,u.run=s,u.runSync=p,u.process=l,u.processSync=y,u;function u(){let A=Kr(),k=-1;for(;++k<n.length;)A.use(...n[k]);return A.data((0,Fn.default)(!0,{},t)),A}function o(A,k){return typeof A=="string"?arguments.length===2?(xn("data",r),t[A]=k,u):Jr.call(t,A)&&t[A]||null:A?(xn("data",r),t=A,u):t}function a(){if(r)return u;for(;++i<n.length;){let[A,...k]=n[i];if(k[0]===!1)continue;k[0]===!0&&(k[0]=void 0);let x=A.call(u,...k);typeof x=="function"&&e.use(x)}return r=!0,i=Number.POSITIVE_INFINITY,u}function f(A,...k){let x;if(xn("use",r),A!=null)if(typeof A=="function")O(A,...k);else if(typeof A=="object")Array.isArray(A)?I(A):E(A);else throw new TypeError("Expected usable value, not `"+A+"`");return x&&(t.settings=Object.assign(t.settings||{},x)),u;function b(d){if(typeof d=="function")O(d);else if(typeof d=="object")if(Array.isArray(d)){let[C,...L]=d;O(C,...L)}else E(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function E(d){I(d.plugins),d.settings&&(x=Object.assign(x||{},d.settings))}function I(d){let C=-1;if(d!=null)if(Array.isArray(d))for(;++C<d.length;){let L=d[C];b(L)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function O(d,C){let L=-1,_;for(;++L<n.length;)if(n[L][0]===d){_=n[L];break}_?(tt(_[1])&&tt(C)&&(C=(0,Fn.default)(!0,_[1],C)),_[1]=C):n.push([...arguments])}}function h(A){u.freeze();let k=it(A),x=u.Parser;return gn("parse",x),Wr(x,"parse")?new x(String(k),k).parse():x(String(k),k)}function c(A,k){u.freeze();let x=it(k),b=u.Compiler;return dn("stringify",b),Qr(A),Wr(b,"compile")?new b(A,x).compile():b(A,x)}function s(A,k,x){if(Qr(A),u.freeze(),!x&&typeof k=="function"&&(x=k,k=void 0),!x)return new Promise(b);b(null,x);function b(E,I){e.run(A,it(k),O);function O(d,C,L){C=C||A,d?I(d):E?E(C):x(null,C,L)}}}function p(A,k){let x,b;return u.run(A,k,E),Gr("runSync","run",b),x;function E(I,O){an(I),x=O,b=!0}}function l(A,k){if(u.freeze(),gn("process",u.Parser),dn("process",u.Compiler),!k)return new Promise(x);x(null,k);function x(b,E){let I=it(A);u.run(u.parse(I),I,(d,C,L)=>{if(d||!C||!L)O(d);else{let _=u.stringify(C,L);_==null||(Do(_)?L.value=_:L.result=_),O(d,L)}});function O(d,C){d||!C?E(d):b?b(C):k(null,C)}}}function y(A){let k;u.freeze(),gn("processSync",u.Parser),dn("processSync",u.Compiler);let x=it(A);return u.process(x,b),Gr("processSync","process",k),x;function b(E){k=!0,an(E)}}}function Wr(e,n){return typeof e=="function"&&e.prototype&&(bo(e.prototype)||n in e.prototype)}function bo(e){let n;for(n in e)if(Jr.call(e,n))return!0;return!1}function gn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function dn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function xn(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Qr(e){if(!tt(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Gr(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function it(e){return So(e)?e:new rt(e)}function So(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Do(e){return typeof e=="string"||(0,Yr.default)(e)}var En={children(e){return Oe.children(e)},annotatetextnode(e,n){return Oe.annotatetextnode(e,n)},interpretmarkup(e=""){return`
`.repeat((e.match(/\n/g)||[]).length)},remarkoptions:{}};function Xr(e,n=En){let t=An().use(yt,n.remarkoptions).use(pt,["yaml","toml"]).parse(e);return Pn(e,t,n)}var ut=require("obsidian");var ei=/frontmatter|code|math|templater|blockid|hashtag|internal/;function ti(e){let n=0;if(e.length===0)return n;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);n=(n<<5)-n+r,n&=n}return n}function wt(e){switch(e){case"COLLOQUIALISMS":case"REDUNDANCY":case"STYLE":return"lt-style";case"PUNCTUATION":case"TYPOS":return"lt-major"}return"lt-minor"}function ni(e){let n=e.ruleOtherCategories?e.ruleOtherCategories.split(","):[],t=e.ruleOtherDisabledRules?e.ruleOtherDisabledRules.split(","):[];return{enabledCategories:n,disabledCategories:t}}var ot=[],Ce="ok",To=/^\s*(-|\d+\.) $/m;function Io(e){if(typeof e!="string"||!e.startsWith("`"))return!1;let n=e.match(/^`+/);if(!n)return!1;let t=n[0].length,r="`".repeat(t),i=e.lastIndexOf(r);if(i<=t-1)return!1;let u=e.slice(t,i);if(u==="")return!1;u=u.replace(/\n/g," "),u.length>0&&/[^ ]/.test(u)&&u.startsWith(" ")&&u.endsWith(" ")&&(u=u.slice(1,-1));let o=Array.from(u.matchAll(/`+/g));return!((o.length?Math.max(...o.map(f=>f[0].length)):0)>=t)}async function ri(e,n){let t=Xr(e,{...En,interpretmarkup(c=""){var l,y;if(Io(c))return c;let s=(y=((l=c.match(/\n/g))!=null?l:[]).length)!=null?y:0,p=`
`.repeat(s);return To.exec(c)?`${p}\u2022 `:p}}),r=n(),{enabledCategories:i,disabledCategories:u}=ni(r),o={data:JSON.stringify(t),language:"auto",enabledOnly:"false",level:r.pickyMode?"picky":"default"};i.length&&(o.enabledCategories=i.join(",")),u.length&&(o.disabledCategories=u.join(",")),r.ruleOtherRules&&(o.enabledRules=r.ruleOtherRules),r.ruleOtherDisabledRules&&(o.disabledRules=r.ruleOtherDisabledRules),r.englishVeriety&&(o.preferredVariants=`${o.preferredVariants?`${o.preferredVariants},`:""}${r.englishVeriety}`),r.germanVeriety&&(o.preferredVariants=`${o.preferredVariants?`${o.preferredVariants},`:""}${r.germanVeriety}`),r.portugueseVeriety&&(o.preferredVariants=`${o.preferredVariants?`${o.preferredVariants},`:""}${r.portugueseVeriety}`),r.catalanVeriety&&(o.preferredVariants=`${o.preferredVariants?`${o.preferredVariants},`:""}${r.catalanVeriety}`),r.apikey&&r.username&&r.apikey.length>1&&r.username.length>1&&(o.username=r.username,o.apiKey=r.apikey),r.staticLanguage&&r.staticLanguage.length>0&&r.staticLanguage!=="auto"&&(o.language=r.staticLanguage),r.motherTongue&&r.motherTongue.length>0&&(o.motherTongue=r.motherTongue);let a;try{a=await fetch(`${r.serverUrl}/v2/check`,{method:"POST",body:Object.keys(o).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(o[c])}`).join("&"),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}})}catch(c){let s="request-failed";return(Ce!==s||!r.shouldAutoCheck)&&(new ut.Notice("Request to LanguageTool server failed. Please check your connection and LanguageTool server URL",3e3),Ce=s),Promise.reject(c)}if(!a.ok){let c="request-not-ok";return await Lo(a,r),(Ce!==c||!r.shouldAutoCheck)&&(new ut.Notice(`Request to LanguageTool failed
${a.statusText}Check Plugin Settings for Logs`,3e3),Ce=c),Promise.reject(new Error(`unexpected status ${a.status}, see network tab`))}let f;try{f=await a.json()}catch(c){let s="json-parse-error";return(Ce!==s||!r.shouldAutoCheck)&&(new ut.Notice("Error processing response from LanguageTool server",3e3),Ce=s),Promise.reject(c)}let h="ok";return(Ce!==h||!r.shouldAutoCheck)&&(new ut.Notice("LanguageTool detection restored",5e3),Ce=h),f}async function Lo(e,n){var r,i;let t=`${new Date().toLocaleString()}:
  url used for request: ${e.url}
  Status: ${e.status}
  Body: ${(await e.text()).slice(0,200)}
  Settings: ${JSON.stringify({...n,username:"REDACTED",apikey:"REDACTED"})}
  `;(n.username||n.apikey)&&(t=t.replaceAll((r=n.username)!=null?r:"username","<<username>>").replaceAll((i=n.apikey)!=null?i:"apiKey","<<apikey>>")),ot.push(t),ot.length>10&&ot.shift()}var ui=60,oi=1e3,Po=20,zo=80,Oo=5e3,ai=50,kn=ui/Po*oi,Ro=ui/zo*oi,si={serverUrl:"https://api.languagetool.org",urlMode:"standard",glassBg:!1,shouldAutoCheck:!1,autoCheckDelay:kn,pickyMode:!1};function ii(e){return e==="standard"?"https://api.languagetool.org":e==="premium"?"https://api.languagetoolplus.com":""}function Mo(e){return e==="standard"?kn:e==="premium"?Ro:ai}var bt=class extends N.PluginSettingTab{constructor(n,t){super(n,t),this.plugin=t}configureAutoCheckDelaySlider(n,t){let r=Mo(t);this.plugin.settings.autoCheckDelay<r&&(this.plugin.settings.autoCheckDelay=kn),n==null||n.setLimits(r,Oo,ai)}async requestLanguages(){if(this.languages)return this.languages;let n=await fetch(`${this.plugin.settings.serverUrl}/v2/languages`).then(t=>t.json());return this.languages=n,this.languages}display(){let{containerEl:n}=this,t=null,r=null;n.empty(),n.createEl("h2",{text:"Settings for LanguageTool"});let i=n.createEl("button",{text:"Copy failed Request Logs"});i.onclick=async()=>{await window.navigator.clipboard.writeText(ot.join(`
`)),new N.Notice("Logs copied to clipboard")},i.style.marginBottom="5px",new N.Setting(n).setName("Endpoint").setDesc("Endpoint that will be used to make requests to").then(s=>{s.controlEl.style.display="inline-grid";let p=null;s.addDropdown(l=>{t=l,l.addOptions({standard:"(Standard) api.languagetool.org",premium:"(Premium) api.languagetoolplus.com",custom:"Custom URL"}).setValue(this.plugin.settings.urlMode).onChange(async y=>{this.plugin.settings.urlMode=y,this.plugin.settings.serverUrl=ii(y),p==null||p.setValue(this.plugin.settings.serverUrl),p==null||p.setDisabled(y!=="custom"),this.configureAutoCheckDelaySlider(r,y),await this.plugin.saveSettings()})}),s.addText(l=>{p=l,l.setPlaceholder("https://your-custom-url.com").setValue(this.plugin.settings.serverUrl).setDisabled(this.plugin.settings.urlMode==="custom").onChange(async y=>{this.plugin.settings.serverUrl=y.replace(/\/v2\/check\/$/,"").replace(/\/$/,""),await this.plugin.saveSettings()})})}),new N.Setting(n).setName("API Username").setDesc("Enter a username/email for API Access").addText(s=>{var p;return s.setPlaceholder("peterlustig@gmail.com").setValue((p=this.plugin.settings.username)!=null?p:"").onChange(async l=>{this.plugin.settings.username=l.replace(/\s+/g,""),await this.plugin.saveSettings()})}).then(s=>{s.descEl.createEl("br"),s.descEl.createEl("a",{text:"Click here for information about Premium Access",href:"https://github.com/Clemens-E/obsidian-languagetool-plugin#premium-accounts"},p=>{p.setAttr("target","_blank")})});let u=!1;new N.Setting(n).setName("API Key").setDesc("Enter an API Key").addText(s=>{var p;return s.setValue((p=this.plugin.settings.apikey)!=null?p:"").onChange(async l=>{if(this.plugin.settings.apikey=l.replace(/\s+/g,""),this.plugin.settings.apikey.length>0&&this.plugin.settings.urlMode!=="premium"&&!u){let y=new N.Modal(this.app);y.titleEl.createEl("span",{text:"Warning"}),y.contentEl.createEl("p",{text:"You have entered an API Key but you are not using the Premium Endpoint"}),y.contentEl.style.display="grid";let A=y.contentEl.createEl("div",{attr:{style:"justify-self:center"}});A.createEl("button",{text:"I know what I'm doing",attr:{style:"justify-self:flex-start; color:red;"}}).onclick=()=>{u=!0,y.close()},A.createEl("button",{text:"Change to Premium",attr:{style:"justify-self:flex-end"}}).onclick=async()=>(this.plugin.settings.urlMode="premium",t==null||t.setValue("premium"),this.plugin.settings.serverUrl=ii(l),await this.plugin.saveSettings(),y.close()),y.open()}await this.plugin.saveSettings()})}).then(s=>{s.descEl.createEl("br"),s.descEl.createEl("a",{text:"Click here for information about Premium Access",href:"https://github.com/Clemens-E/obsidian-languagetool-plugin#premium-accounts"},p=>{p.setAttr("target","_blank")})}),new N.Setting(n).setName("Autocheck Text").setDesc("Check text as you type").addToggle(s=>{s.setValue(this.plugin.settings.shouldAutoCheck).onChange(async p=>{this.plugin.settings.shouldAutoCheck=p,await this.plugin.saveSettings()})}),new N.Setting(n).setName("AutoCheck Delay (ms)").setDesc("Length of time to wait for AutoCheck after last key press").addSlider(s=>{r=s,t&&this.configureAutoCheckDelaySlider(r,t.getValue()),s.setValue(this.plugin.settings.autoCheckDelay).onChange(async p=>{this.plugin.settings.autoCheckDelay=p,await this.plugin.saveSettings()}),s.setDynamicTooltip()}),new N.Setting(n).setName("Glass Background").setDesc("Use the secondary background color of the theme or a glass background").addToggle(s=>{s.setValue(this.plugin.settings.glassBg).onChange(async p=>{this.plugin.settings.glassBg=p,await this.plugin.saveSettings()})});let o,a,f,h,c;new N.Setting(n).setName("Static Language").setDesc("Set a static language that will always be used (LanguageTool tries to auto detect the language, this is usually not necessary)").addDropdown(s=>{o=s,this.requestLanguages().then(p=>{var l;s.addOption("auto","Auto Detect"),p.forEach(y=>s.addOption(y.longCode,y.name)),s.setValue((l=this.plugin.settings.staticLanguage)!=null?l:"auto"),s.onChange(async y=>{this.plugin.settings.staticLanguage=y,y!=="auto"&&(this.plugin.settings.englishVeriety=void 0,a==null||a.setValue("default"),this.plugin.settings.germanVeriety=void 0,f==null||f.setValue("default"),this.plugin.settings.portugueseVeriety=void 0,h==null||h.setValue("default"),this.plugin.settings.catalanVeriety=void 0,c==null||c.setValue("default")),await this.plugin.saveSettings()})}).catch(console.error)}),new N.Setting(n).setName("Mother Tongue").setDesc("Set the language you are most comfortable with. This will be used to interpret the language you are writing in").addDropdown(s=>{this.requestLanguages().then(p=>{s.addOption("empty",""),p.forEach(l=>s.addOption(l.longCode,l.name)),s.onChange(async l=>{var y;this.plugin.settings.motherTongue=l,s.setValue((y=this.plugin.settings.motherTongue)!=null?y:""),await this.plugin.saveSettings()})}).catch(console.error)}),n.createEl("h3",{text:"Language Varieties"}),n.createEl("p",{text:"Some languages have varieties depending on the country they are spoken in."}),new N.Setting(n).setName("Interpret English as").addDropdown(s=>{var p;a=s,s.addOptions({default:"---","en-US":"English (US)","en-GB":"English (British)","en-CA":"English (Canada)","en-AU":"English (Australia)","en-ZA":"English (South Africa)","en-NZ":"English (New Zealand)"}).setValue((p=this.plugin.settings.englishVeriety)!=null?p:"default").onChange(async l=>{l==="default"?this.plugin.settings.englishVeriety=void 0:(this.plugin.settings.staticLanguage="auto",o==null||o.setValue("auto"),this.plugin.settings.englishVeriety=l),await this.plugin.saveSettings()})}),new N.Setting(n).setName("Interpret German as").addDropdown(s=>{var p;f=s,s.addOptions({default:"---","de-DE":"German (Germany)","de-CH":"German (Switzerland)","de-AT":"German (Austria)"}).setValue((p=this.plugin.settings.germanVeriety)!=null?p:"default").onChange(async l=>{l==="default"?this.plugin.settings.germanVeriety=void 0:(this.plugin.settings.staticLanguage="auto",o==null||o.setValue("auto"),this.plugin.settings.germanVeriety=l),await this.plugin.saveSettings()})}),new N.Setting(n).setName("Interpret Portuguese as").addDropdown(s=>{var p;h=s,s.addOptions({default:"---","pt-BR":"Portuguese (Brazil)","pt-PT":"Portuguese (Portugal)","pt-AO":"Portuguese (Angola)","pt-MZ":"Portuguese (Mozambique)"}).setValue((p=this.plugin.settings.portugueseVeriety)!=null?p:"default").onChange(async l=>{l==="default"?this.plugin.settings.portugueseVeriety=void 0:(this.plugin.settings.staticLanguage="auto",o==null||o.setValue("auto"),this.plugin.settings.portugueseVeriety=l),await this.plugin.saveSettings()})}),new N.Setting(n).setName("Interpret Catalan as").addDropdown(s=>{var p;c=s,s.addOptions({default:"---","ca-ES":"Catalan","ca-ES-valencia":"Catalan (Valencian)"}).setValue((p=this.plugin.settings.catalanVeriety)!=null?p:"default").onChange(async l=>{l==="default"?this.plugin.settings.catalanVeriety=void 0:(this.plugin.settings.staticLanguage="auto",o==null||o.setValue("auto"),this.plugin.settings.catalanVeriety=l),await this.plugin.saveSettings()})}),n.createEl("h3",{text:"Rule Categories"}),new N.Setting(n).setName("Picky Mode").setDesc("Provides more style and tonality suggestions, detects long or complex sentences, recognizes colloquialism and redundancies, proactively suggests synonyms for commonly overused words").addToggle(s=>{s.setValue(this.plugin.settings.pickyMode).onChange(async p=>{this.plugin.settings.pickyMode=p,await this.plugin.saveSettings()})}),new N.Setting(n).setName("Other rule categories").setDesc("Enter a comma-separated list of categories").addText(s=>{var p;return s.setPlaceholder("Eg. CATEGORY_1,CATEGORY_2").setValue((p=this.plugin.settings.ruleOtherCategories)!=null?p:"").onChange(async l=>{this.plugin.settings.ruleOtherCategories=l.replace(/\s+/g,""),await this.plugin.saveSettings()})}).then(s=>{s.descEl.createEl("br"),s.descEl.createEl("a",{text:"Click here for a list of rules and categories",href:"https://community.languagetool.org/rule/list"},p=>{p.setAttr("target","_blank")})}),new N.Setting(n).setName("Enable Specific Rules").setDesc("Enter a comma-separated list of rules").addText(s=>{var p;return s.setPlaceholder("Eg. RULE_1,RULE_2").setValue((p=this.plugin.settings.ruleOtherRules)!=null?p:"").onChange(async l=>{this.plugin.settings.ruleOtherRules=l.replace(/\s+/g,""),await this.plugin.saveSettings()})}).then(s=>{s.descEl.createEl("br"),s.descEl.createEl("a",{text:"Click here for a list of rules and categories",href:"https://community.languagetool.org/rule/list"},p=>{p.setAttr("target","_blank")})}),new N.Setting(n).setName("Disable Specific Rules").setDesc("Enter a comma-separated list of rules").addText(s=>{var p;return s.setPlaceholder("Eg. RULE_1,RULE_2").setValue((p=this.plugin.settings.ruleOtherDisabledRules)!=null?p:"").onChange(async l=>{this.plugin.settings.ruleOtherDisabledRules=l.replace(/\s+/g,""),await this.plugin.saveSettings()})}).then(s=>{s.descEl.createEl("br"),s.descEl.createEl("a",{text:"Click here for a list of rules and categories",href:"https://community.languagetool.org/rule/list"},p=>{p.setAttr("target","_blank")})})}};var di=require("@codemirror/view");var li=require("@codemirror/view"),ci=require("obsidian");function pi(e){let n=-1,t=1/0,r=-1/0;return li.EditorView.inputHandler.of((i,u,o,a)=>{if(!e.settings.shouldAutoCheck||!a.trim())return!1;let f=i.state.field(ci.editorViewField);return t=Math.min(t,Math.min(u,o)),r=Math.max(r,Math.max(u,o)),clearTimeout(n),n=window.setTimeout(()=>{let h=i.lineBlockAt(t),c=i.lineBlockAt(r);e.runDetection(i,f,h.from,c.to).catch(s=>{console.error(s)})},e.settings.autoCheckDelay),!1})}var hi=require("@codemirror/view"),mi=require("@codemirror/state");var Dt=require("obsidian");var we=require("@codemirror/view"),be=require("@codemirror/state"),je=require("@codemirror/language");var Cn=be.StateEffect.define(),at=be.StateEffect.define(),qe=be.StateEffect.define(),St=be.StateEffect.define();function yn(e,n,t,r){return!(e>=t&&e<=r||n>=t&&n<=r||t>=e&&t<=n||r>=e&&r<=n)}var wn=be.StateField.define({create(){return{marks:we.Decoration.none,ignoredRanges:new Set}},update(e,n){e.marks=e.marks.map(n.changes),e.ignoredRanges.clear(),e.marks.between(0,n.newDoc.length,(t,r)=>{e.ignoredRanges.add(`${t},${r}`)}),n.docChanged&&n.selection&&e.marks.size&&(e.marks=e.marks.update({filter:(t,r)=>{let i=yn(t,r,n.selection.main.from,n.selection.main.to);return i||e.ignoredRanges.delete(`${t},${r}`),i}}));for(let t of n.effects)if(t.is(St)){let{from:r,to:i}=t.value;e.ignoredRanges.add(`${r},${i}`),e.marks=e.marks.update({add:[we.Decoration.mark({}).range(r,i)]})}return e}}),Se=be.StateField.define({create(){return we.Decoration.none},update(e,n){let{ignoredRanges:t}=n.state.field(wn),r=new Set,i={},u=null;e=e.map(n.changes);let o=f=>{if(i[f]!==void 0)return i[f];u||(u=(0,je.syntaxTree)(n.state));let h=u.resolveInner(f,1).type.prop(je.tokenClassNodeProp);return h&&ei.test(h)?i[f]=!1:i[f]=!0,i[f]},a=(f,h,c)=>{if(f.rule.category.id==="TYPOS"){let p=window.app.vault.getConfig("spellcheckDictionary"),l=n.state.sliceDoc(h,c);if(p!=null&&p.includes(l))return!1}u||(u=(0,je.syntaxTree)(n.state));let s=u.resolve(n.newDoc.lineAt(h).from,1).type.prop(je.tokenClassNodeProp);return!(s!=null&&s.includes("table")&&f.rule.id==="WHITESPACE_RULE")};n.docChanged&&n.selection&&e.size&&(e=e.update({filter:(f,h)=>yn(f,h,n.selection.main.from,n.selection.main.to)}));for(let f of n.effects)if(f.is(Cn)){let{from:h,to:c,match:s}=f.value,p=`${h},${c}`;!t.has(p)&&!r.has(p)&&o(h)&&o(c)&&a(s,h,c)&&(r.add(p),e=e.update({add:[we.Decoration.mark({class:`lt-underline ${wt(s.rule.category.id)}`,match:s}).range(h,c)]}))}else f.is(at)?e=we.Decoration.none:(f.is(qe)||f.is(St))&&(e=e.update({filter:(h,c)=>yn(h,c,f.value.from,f.value.to)}));return e},provide:e=>we.EditorView.decorations.from(e)});function _o(e,n,t){var c;let r=t.match,i=r.message,u=r.shortMessage,o=((c=r.replacements)!=null?c:[]).slice(0,3).map(s=>s.value).filter(s=>s.trim()),a=r.rule.category.id,f=r.rule.id,h=e.settings.glassBg?"lt-predictions-container-glass":"lt-predictions-container";return createDiv({cls:[h,wt(a)]},s=>{u&&s.createSpan({cls:"lt-title"},y=>{y.createSpan({text:u})}),i&&s.createSpan({cls:"lt-message",text:i});let p=qe.of({from:t.from,to:t.to}),l=St.of({from:t.from,to:t.to});s.createDiv({cls:"lt-bottom"},y=>{o.length&&y.createDiv({cls:"lt-buttoncontainer"},A=>{for(let k of o)A.createEl("button",{text:k},x=>{x.onclick=()=>{n.dispatch({changes:[{from:t.from,to:t.to,insert:k}],effects:[p]})}})}),y.createDiv({cls:"lt-info-container"},A=>{A.createEl("button",{cls:"lt-info-button clickable-icon"},k=>{(0,Dt.setIcon)(k,"info"),k.onclick=()=>{let x=document.getElementsByClassName("lt-info-box").item(0);if(!x)throw Error("Programming error: failed to create popup. Please notify the LanguageTool maintainer if this problem persists.");x.hasClass("hidden")?x.removeClass("hidden"):x.addClass("hidden")}}),A.createDiv({cls:"lt-info-box hidden"},k=>{k.createDiv({cls:"lt-info",text:`Category:\xA0${a}`}),k.createDiv({cls:"lt-info",text:`Rule:\xA0${f}`})})})}),s.createDiv({cls:"lt-ignorecontainer"},y=>{y.createEl("button",{cls:"lt-ignore-btn"},A=>{a==="TYPOS"?((0,Dt.setIcon)(A.createSpan(),"plus-with-circle"),A.createSpan({text:"Add to personal dictionary"}),A.onclick=()=>{let k=e.app.vault.getConfig("spellcheckDictionary")||[];e.app.vault.setConfig("spellcheckDictionary",[...k,n.state.sliceDoc(t.from,t.to)]),n.dispatch({effects:[p]})}):((0,Dt.setIcon)(A.createSpan(),"cross"),A.createSpan({text:"Ignore suggestion"}),A.onclick=()=>{n.dispatch({effects:[l]})})})})})}function fi(e,n,t){let r=t.field(Se);if(r.size===0||t.selection.ranges.length>1)return[];let i=t.selection.main,u=i.from!==i.to,o=null;if(r.between(t.selection.main.from,t.selection.main.to,(a,f,h)=>{o={from:a,to:f,match:h.spec.match}}),o!==null){let{from:a,to:f}=o;if(u&&!(i.from===a&&i.to===f))return[];if(e.length){let h=e[0];if(h.pos===a&&h.end===f)return e}return[{pos:a,end:f,above:!0,strictSide:!1,arrow:!1,create:h=>({dom:_o(n,h,o)})}]}return[]}function gi(e){return mi.StateField.define({create:n=>fi([],e,n),update:(n,t)=>t.docChanged?[]:fi(n,e,t.state),provide:n=>hi.showTooltip.computeN([n],t=>t.field(n))})}function xi(e){return[(0,di.tooltips)({position:"absolute",tooltipSpace:n=>{let t=n.dom.getBoundingClientRect();return{top:t.top,left:t.left,bottom:t.bottom,right:t.right}}}),wn,Se,gi(e),pi(e)]}var Bt=class extends ne.Plugin{constructor(){super(...arguments);this.isloading=!1;this.handleStatusBarClick=()=>{var i,u;let t=(i=this.statusBarText.parentElement)==null?void 0:i.getBoundingClientRect(),r=this.statusBarText.getBoundingClientRect();new ne.Menu().addItem(o=>{o.setTitle("Check current document"),o.setIcon("checkbox-glyph"),o.onClick(async()=>{let a=this.app.workspace.activeLeaf;if((a==null?void 0:a.view)instanceof ne.MarkdownView&&a.view.getMode()==="source")try{await this.runDetection(a.view.editor.cm,a.view)}catch(f){console.error(f)}})}).addItem(o=>{o.setTitle(this.settings.shouldAutoCheck?"Disable automatic checking":"Enable automatic checking"),o.setIcon("uppercase-lowercase-a"),o.onClick(async()=>{this.settings.shouldAutoCheck=!this.settings.shouldAutoCheck,await this.saveSettings()})}).addItem(o=>{o.setTitle("Clear suggestions"),o.setIcon("reset"),o.onClick(()=>{let a=this.app.workspace.getActiveViewOfType(ne.MarkdownView);if(!a)return;a.editor.cm.dispatch({effects:[at.of(null)]})})}).showAtPosition({x:r.right+5,y:((u=t==null?void 0:t.top)!=null?u:0)-5})}}async onload(){await this.loadSettings();let t=await this.loadData();if((!t||Object.keys(t).length===0)&&(t=this.settings),!t.urlMode||t.urlMode.length===0){let{serverUrl:r}=this.settings;this.settings.urlMode=r==="https://api.languagetool.org"?"standard":r==="https://api.languagetoolplus.com"?"premium":"custom";try{await this.saveSettings(),await this.loadSettings(),new ne.Notice("updated LanguageTool Settings, please confirm your server URL in the settings tab",1e4)}catch(i){console.error(i)}}if(this.settings.serverUrl.includes("/v2/check")){new ne.Notice(`invalid or outdated LanguageTool Settings, I'm trying to fix it.
If it does not work, simply reinstall the plugin`,1e4),this.settings.serverUrl=this.settings.serverUrl.replace("/v2/check","");try{await this.saveSettings()}catch(r){console.error(r)}}this.addSettingTab(new bt(this.app,this)),this.app.workspace.onLayoutReady(()=>{this.statusBarText=this.addStatusBarItem(),this.setStatusBarReady(),this.registerDomEvent(this.statusBarText,"click",this.handleStatusBarClick)}),this.hashLru=new We({maxSize:10}),this.registerEditorExtension(xi(this)),this.registerCommands()}onunload(){this.hashLru.clear()}registerCommands(){this.addCommand({id:"ltcheck-text",name:"Check Text",editorCallback:(t,r)=>{this.runDetection(t.cm,r).catch(i=>{console.error(i)})}}),this.addCommand({id:"ltautocheck-text",name:"Toggle Automatic Checking",callback:async()=>{this.settings.shouldAutoCheck=!this.settings.shouldAutoCheck,await this.saveSettings()}}),this.addCommand({id:"ltclear",name:"Clear Suggestions",editorCallback:t=>{t.cm.dispatch({effects:[at.of(null)]})}}),this.addCommand({id:"ltjump-to-next-suggestion",name:"Jump to next Suggestion",editorCheckCallback:(t,r)=>{let i=r.cm,u=r.posToOffset(r.getCursor("to")),o=null;if(i.state.field(Se).between(u+1,1/0,(a,f)=>{(!o||o.from>a)&&(o={from:a,to:f})}),t)return!!o;o&&i.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0})}}),this.addCommand({id:"ltjump-to-previous-suggestion",name:"Jump to previous Suggestion",editorCheckCallback:(t,r)=>{let i=r.cm,u=r.posToOffset(r.getCursor("from")),o=null;if(i.state.field(Se).between(0,u-1,(a,f)=>{(!o||o.from<a)&&(o={from:a,to:f})}),t)return!!o;o&&i.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0})}}),this.addCommand(this.getApplySuggestionCommand(1)),this.addCommand(this.getApplySuggestionCommand(2)),this.addCommand(this.getApplySuggestionCommand(3))}getApplySuggestionCommand(t){return{id:`ltaccept-suggestion-${t}`,name:`Accept suggestion #${t} when the cursor is within a Language-Tool-Hint`,editorCheckCallback(r,i){var l,y,A,k,x;let u=i.cm,o=i.posToOffset(i.getCursor()),a=[];u.state.field(Se).between(o,o,(b,E,I)=>{a.push({from:b,to:E,value:I})});let f=a.length===1&&((x=(k=(A=(y=(l=a[0])==null?void 0:l.value)==null?void 0:y.spec)==null?void 0:A.match)==null?void 0:k.replacements)==null?void 0:x.length)>=t;if(r)return f;if(!f){console.error("Preconditions were not successfull to apply LT-suggestions.");return}let{from:h,to:c,value:s}=a[0],p={from:h,to:c,insert:s.spec.match.replacements[t-1].value};u.dispatch({changes:[p],effects:[qe.of({from:h,to:c})]})}}}setStatusBarReady(){this.isloading=!1,this.statusBarText.empty(),this.statusBarText.createSpan({cls:"lt-status-bar-btn"},t=>{t.createSpan({cls:"lt-status-bar-check-icon",text:"Aa"})})}setStatusBarWorking(){this.isloading||(this.isloading=!0,this.statusBarText.empty(),this.statusBarText.createSpan({cls:["lt-status-bar-btn","lt-loading"]},t=>{(0,ne.setIcon)(t,"sync-small")}))}async runDetection(t,r,i,u){var k,x;let o=(k=this.app.metadataCache.getFileCache(r.file))==null?void 0:k.frontmatter;if((x=o==null?void 0:o.tags)!=null&&x.includes("lt-ignore"))return;this.setStatusBarWorking();let a=t.state.selection.main,f=r.data,h=0,c=!1,s=0,p=0;i===void 0&&a&&a.from!==a.to&&(i=a.from,u=a.to),i!==void 0&&u!==void 0&&(f=t.state.sliceDoc(i,u),h=i,s=i,p=u,c=!0);let l=ti(f),y;if(this.hashLru.has(l))y=this.hashLru.get(l);else try{y=await ri(f,()=>this.settings),this.hashLru.set(l,y)}catch(b){return this.setStatusBarReady(),Promise.reject(b)}let A=[];if(c?A.push(qe.of({from:s,to:p})):A.push(at.of(null)),y.matches)for(let b of y.matches){let E=b.offset+h,I=b.offset+h+b.length;A.push(Cn.of({from:E,to:I,match:b}))}A.length&&t.dispatch({effects:A}),this.setStatusBarReady()}async loadSettings(){this.settings=Object.assign({},si,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/*! Bundled license information:

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/

/* nosourcemap */